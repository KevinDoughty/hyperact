!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame)||function(t){setTimeout(t,0)},o=Date.getTime;function s(t){this.time,this.disableAnimation=!1,this.duration,this.easing,t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}function a(){this.targets=[],this.getPresentations=[],this.getAnimationCounts=[],this.transactions=[],this.ticking=!1,this.animationFrame,this.displayLayers=[],this.displayFunctions=[],this.cleanupFunctions=[],this.invalidateFunctions=[],this.force=[]}Date.now&&(o=Date.now),"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now&&(o=window.performance.now.bind(window.performance)),a.prototype={createTransaction:function(t,e){var n=new s(t),i=this.transactions.length,r=o()/1e3;return i&&(r=this.transactions[i-1].representedObject.time),Object.defineProperty(n,"time",{get:function(){return r},enumerable:!0,configurable:!1}),this.transactions.push({representedObject:n,automaticallyCommit:e,flushers:[]}),e&&this.startTicking(),n},createTransactionWrapper:function(t,e){for(var n=this.targets.length;n--;)this.invalidateFunctions[n]();var i=new s(t),r=this.transactions.length,a=o()/1e3;r&&(a=this.transactions[r-1].representedObject.time),Object.defineProperty(i,"time",{get:function(){return a},enumerable:!0,configurable:!1});var u={representedObject:i,automaticallyCommit:e,flushers:[]};return this.transactions.push(u),e&&this.startTicking(),u},currentTransaction:function(){var t=this.transactions.length;return t?this.transactions[t-1].representedObject:this.createTransactionWrapper({},!0).representedObject},beginTransaction:function(t){return this.createTransactionWrapper(t,!1).representedObject},commitTransaction:function(){this.clearFlushers(),this.transactions.pop()},clearFlushers:function(){var t=this.currentTransactionWrapper();t.flushers.forEach(function(t){t()}),t.flushers.length=0;for(var e=this.targets.length;e--;)this.invalidateFunctions[e]()},flushTransaction:function(){this.clearFlushers()},currentTransactionWrapper:function(){var t=this.transactions.length;return t?this.transactions[t-1]:this.createTransactionWrapper({},!0)},registerFlusher:function(t){this.currentTransactionWrapper().flushers.push(t)},disableAnimation:function(t){!1!==t&&(t=!0),this.currentTransaction().disableAnimation=t,this.startTicking()},registerTarget:function(t,e,n,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.startTicking();var u=this.targets.indexOf(t);u<0?(this.targets.push(t),this.getPresentations.push(e),this.getAnimationCounts.push(n),this.displayLayers.push(a),this.displayFunctions.push(i),this.cleanupFunctions.push(o),this.invalidateFunctions.push(r),this.force.push(s)):this.force[u]=s},deregisterTarget:function(t){var e=this.targets.indexOf(t);e>-1&&(this.targets.splice(e,1),this.getPresentations.splice(e,1),this.getAnimationCounts.splice(e,1),this.displayLayers.splice(e,1),this.displayFunctions.splice(e,1),this.cleanupFunctions.splice(e,1),this.invalidateFunctions.splice(e,1),this.force.splice(e,1))},startTicking:function(){this.animationFrame||(this.animationFrame=r(this.ticker.bind(this)))},ticker:function(){this.animationFrame=void 0;for(var t=this.targets,e=t.length;e--;){var n=t[e],i=this.displayFunctions[e],r=this.getAnimationCounts[e](),o=this.getPresentations[e];if(r){var s=o();(this.force[e]||this.displayLayers[e]!==s)&&(this.displayLayers[e]=s,i(s)),this.cleanupFunctions[e]()}else{this.invalidateFunctions[e](),i(o()),this.deregisterTarget(n)}this.force[e]=!1}var a=this.transactions.length;a&&(this.transactions[a-1].automaticallyCommit&&this.commitTransaction());this.targets.length&&this.startTicking()}};var u="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":i(t)},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function h(t){return t&&"[object Function]"==={}.toString.call(t)}function f(){}function l(){}function p(t,e,n){this.subtype=t,h(t)&&(this.subtype=new t(n)),this.length=e}function d(t){h(t)?this.sort=t:t&&h(t.sort)&&(this.sort=t.sort),this.debug="HyperSet"}f.prototype={constructor:f,zero:function(){return 0},add:function(t,e){return t+e},subtract:function(t,e){return t-e},interpolate:function(t,e,n){return t+(e-t)*n},input:function(t,e){return e},output:function(t,e){return e},toString:function(){return"HyperNumber"},toJSON:function(){return this.toString()}},l.prototype={constructor:l,zero:function(){return 1},add:function(t,e){return t*e},subtract:function(t,e){return 0===e?0:t/e},interpolate:function(t,e,n){return t+(e-t)*n},toString:function(){return"HyperScale"},toJSON:function(){return this.toString()}},p.prototype={constructor:p,zero:function(){for(var t=[],e=this.length;e--;)t.push(this.subtype.zero());return t},add:function(t,e){for(var n=[],i=0;i<this.length;i++)n.push(this.subtype.add(t[i],e[i]));return n},subtract:function(t,e){for(var n=[],i=0;i<this.length;i++)n.push(this.subtype.subtract(t[i],e[i]));return n},interpolate:function(t,e,n){for(var i=[],r=0;r<this.length;r++)i.push(this.subtype.interpolate(t[r],e[r],n));return i},toString:function(){return"HyperArray"},toJSON:function(){return this.toString()}},d.prototype={constructor:d,zero:function(){return[]},add:function(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return[];if(!Array.isArray(t))return e;if(!Array.isArray(e))return t;var n=[],i=t.length,r=e.length,o=0,s=0;if(h(this.sort))for(;o<i||s<r;)if(o===i)n.push(e[s]),s++;else if(s===r)n.push(t[o]),o++;else{var a=t[o],u=e[s],c=this.sort(a,u);if(0===c)n.push(a),o++,s++;else if(c<0)n.push(a),o++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, add a:"+a+"; b:"+u+"; result:"+c+";");n.push(u),s++}}else for(n=t.slice(0),o=e.length;o--;)t.indexOf(e[o])<0&&n.push(e[o]);return n},subtract:function(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return[];if(!Array.isArray(t))return e;if(!Array.isArray(e))return t;var n=[],i=t.length,r=e.length,o=0,s=0;if(h(this.sort))for(;(o<i||s<r)&&o!==i;)if(s===r)n.push(t[o]),o++;else{var a=t[o],u=e[s],c=this.sort(a,u);if(0===c)o++,s++;else if(c<0)n.push(a),o++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, subtract a:"+a+"; b:"+u+"; result:"+c+";");s++}}else for(n=t.slice(0),o=e.length;o--;){var f=n.indexOf(e[o]);f>-1&&n.splice(f,1)}return n},interpolate:function(t,e,n){return n>=1?e:t},toString:function(){return"HyperSet"},toJSON:function(){return this.toString()}};var y=function(){function t(){}return c(t,[{key:"zero",value:function(){return v(0,0)}},{key:"add",value:function(t,e){return v(t.x+e.x,t.y+e.y)}},{key:"subtract",value:function(t,e){return v(t.x-e.x,t.y-e.y)}},{key:"interpolate",value:function(t,e,n){return v(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)}},{key:"toString",value:function(){return"HyperPoint"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),m=function(){function t(){}return c(t,[{key:"zero",value:function(){return g(0,0)}},{key:"add",value:function(t,e){return g(t.width+e.width,t.height+e.height)}},{key:"subtract",value:function(t,e){return g(t.width-e.width,t.height-e.height)}},{key:"interpolate",value:function(t,e,n){return g(t.width+(e.width-t.width)*n,t.height+(e.height-t.height)*n)}},{key:"toString",value:function(){return"HyperSize"}},{key:"toJSON",value:function(){return this.toString()}}]),t}();(function(){function t(){}c(t,[{key:"zero",value:function(){return function(t,e,n,i){return{origin:v(t,e),size:g(n,i)}}(0,0,0,0)}},{key:"add",value:function(t,e){return{origin:y.prototype.add(t.origin,e.origin),size:m.prototype.add(t.size,e.size)}}},{key:"subtract",value:function(t,e){return{origin:y.prototype.subtract(t.origin,e.origin),size:m.prototype.subtract(t.size,e.size)}}},{key:"interpolate",value:function(t,e,n){return{origin:y.prototype.interpolate(t.origin,e.origin,n),size:m.prototype.interpolate(t.size,e.size,n)}}},{key:"toString",value:function(){return"HyperRect"}},{key:"toJSON",value:function(){return this.toString()}}])})(),Number.MAX_VALUE;function v(t,e){return{x:t,y:e}}function g(t,e){return{width:t,height:e}}var b=0,w=new f;function A(t){return t&&"[object Function]"==={}.toString.call(t)}function k(t){var e=[];Array.isArray(t)?e=t:t&&Array.isArray(t.chain)&&(e=t.chain),this.chain=e.map(function(t){return x(t)}),Object.defineProperty(this,"finished",{get:function(){return!this.chain.length||this.chain[this.chain.length-1].finished},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){"chain"!==e&&"finished"!==e&&(this[e]=t[e])}.bind(this))}function O(t){var e=[];Array.isArray(t)?e=t:t&&t.group&&(e=t.group),this.group=e.map(function(t){return x(t)}),Object.defineProperty(this,"finished",{get:function(){var t=!0;return this.group.forEach(function(e){e.finished||(t=!1)}),t},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){"group"!==e&&"finished"!==e&&(this[e]=t[e])}.bind(this))}function j(){this.property,this.type,this.duration,this.easing,this.speed,this.iterations,this.autoreverse,this.fillMode,this.index=0,this.delay=0,this.blend="relative",this.additive=!0,this.sort,this.finished=!1,this.startTime,this.progress,this.onend,this.remove=!0}function T(t){j.call(this);var e=[];t&&Array.isArray(t.keyframes)&&(e=t.keyframes),this.keyframes=e;var n=this.keyframes.length;t&&Object.keys(t).forEach(function(e){"keyframes"!==e&&(this[e]=t[e])}.bind(this)),Array.isArray(this.offsets)&&this.offsets.length===n?this.offsets.sort(function(t,e){return t-e}):this.offsets=n<2?[]:this.keyframes.map(function(t,e){return e/(n-1)}),this.progress=null}function E(t){j.call(this),this.from,this.to,this.delta,t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this)),this.progress=null}function S(t){return t&&A(t.add)&&A(t.subtract)&&A(t.zero)&&A(t.interpolate)}function x(t){var e=void 0;if(!t&&0!==t)return t;if(t instanceof j||t instanceof T||t instanceof O||t instanceof k)e=t.copy.call(t);else if(Array.isArray(t))e=new O(t);else if(function(t){return t&&"object"===(void 0===t?"undefined":u(t))}(t))e=S(t)?new E({type:t}):Array.isArray(t.keyframes)?new T(t):Array.isArray(t.group)?new O(t):Array.isArray(t.chain)?new k(t):new E(t);else if(function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t))e=new E({duration:t});else{if(!0!==t)throw new Error("is this an animation:"+JSON.stringify(t));e=new E({})}return e}function P(t){return t&&"[object Function]"==={}.toString.call(t)}function F(t,e,n,i,r){if(t instanceof E||t instanceof T){var o=t.property;if(e&&o&&P(e.typeOfProperty)){var s=e.typeOfProperty.call(e,o);s&&(t.type=s)}var a=z(o,e.keyInput,e),u=n[a],c=i[a]||function(t){if(!t)return null;return t.type?P(t.type)?new t.type:t.type:P(t)?new t:t}(u);t.property&&t.type&&r(t.property,t.type,!0),t instanceof E?((Array.isArray(t.from)||Array.isArray(t.to))&&!t.type&&P(t.sort)&&(t.type=new d(t.sort)),t.type||(t.type=c),(t.from||0===t.from)&&(t.from=M(t.from,a,e,i,t.type)),(t.to||0===t.to)&&(t.to=M(t.to,a,e,i,t.type)),(t.delta||0===t.delta)&&(t.delta=M(t.delta,a,e,i,t.type))):(t.type||(t.type=c),t.keyframes&&(t.keyframes=t.keyframes.map(function(n){return M(n,a,e,i,t.type)})),t.delta&&(t.delta=t.delta.map(function(n){return M(n,a,e,i,t.type)})))}else if(t instanceof O)t.group.forEach(function(t){F(t,e,n,i,r)});else{if(!(t instanceof k))throw new Error("not an animation");t.chain.forEach(function(t){F(t,e,n,i,r)})}}function z(t,e,n){return P(e)?e.call(n,t):t}function M(t,e,n,i,r){if(n&&P(n.input))return n.input.call(n,e,t);var o=t,s=i[e];return r&&P(r.input)?o=r.input.call(r,e,t):s&&P(s.input)&&(o=s.input.call(s,e,t)),o}function N(t,e,n,i,r){if(n&&P(n.output))return n.output.call(n,e,t);var o=t,s=i[e];return r&&P(r.output)?o=r.output.call(r,e,t):s&&P(s.output)&&(o=s.output.call(s,e,t)),o}function I(t){if(t&&(t instanceof E||t instanceof T||t instanceof O||t instanceof k))return!0}k.prototype={constructor:k,copy:function(){return new this.constructor(this)},runAnimation:function(t,e,n){this.sortIndex=b++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=n.time);for(var i=this.chain.length,r=Object.assign({},n),o=this.startTime,s=0;s<i;s++){var a=this.chain[s];r.time=o,a.runAnimation.call(a,t,e,r),o=o===1/0||a.iterations===1/0?1/0:o+a.delay+a.duration*a.iterations}},composite:function(t,e){for(var n=!1,i=this.chain.length,r=0;r<i;r++){var o=this.chain[r];n=o.composite.call(o,t,e)||n}return n},convert:function(t,e){A(t)&&this.chain.forEach(function(n){n.convert.call(n,t,e)})}},k.prototype.description=function(t){var e=Object.assign({},this);return e.chain=this.chain.map(function(e){return e.description(t)}),e},O.prototype={constructor:O,copy:function(){return new this.constructor(this)},runAnimation:function(t,e,n){this.sortIndex=b++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=n.time),this.group.forEach(function(i){i.runAnimation.call(i,t,e,n)})},composite:function(t,e){var n=!1;return this.group.forEach(function(i){n=i.composite.call(i,t,e)||n}),n},convert:function(t,e){A(t)&&this.group.forEach(function(n){n.convert.call(n,t,e)})}},O.prototype.description=function(t){var e=Object.assign({},this);return e.group=this.group.map(function(e){return e.description(t)}),e},j.prototype={copy:function(){return new this.constructor(this)},composite:function(t,e){if(null===this.startTime||void 0===this.startTime)throw new Error("Cannot composite an animation that has not been started.");if(this.startTime>e&&"backwards"!==this.fillMode&&"both"!==this.fillMode)return!1;if(this.finished&&"forwards"!==this.fillMode&&"both"!==this.fillMode)return!1;var n=Math.max(0,e-(this.startTime+this.delay)),i=this.speed,r=1,o=1,s=this.duration,a=s*this.iterations;a&&(r=n*i/s,o=n*i/a),o>=1&&(r=1,this.finished=!0);var u=0;if(this.finished||(!0===this.autoreverse&&(u=Math.floor(r)%2),r%=1),u&&(r=1-r),A(this.easing))r=this.easing(r);else if("step-start"===this.easing)r=Math.ceil(r);else if("step-middle"===this.easing)r=Math.round(r);else if("step-end"===this.easing)r=Math.floor(r);else{var c=.5-Math.cos(r*Math.PI)/2;if(this.easing){var h=/(step-start|step-middle|step-end|steps)\((\d+)\)/.exec(this.easing);if(h){var f=h[1],l=h[2];l>0?"step-start"===f?r=Math.ceil(r*l)/l:"step-middle"===f?r=Math.round(r*l)/l:"step-end"!==f&&"steps"!==f||(r=Math.floor(r*l)/l):"linear"!==this.easing&&(r=c)}else"linear"!==this.easing&&(r=c)}else r=c}var p=void 0;if(this instanceof T){var d=this.keyframes.length;if(!d)throw new Error("HyperAction composite need to be able to handle zero keyframes");if(1===d)throw new Error("HyperAction composite need to be able to handle one keyframe");for(var y=d-1;y--&&!(r>=this.offsets[y]););var m=y,v=m+1,g=this.offsets[v]-this.offsets[m];if(0===g)throw new Error("can't divide by zero. check your keyframe offsets.");var b=(r-this.offsets[m])/g;p="absolute"===this.blend?this.type.interpolate(this.keyframes[m],this.keyframes[v],b):this.type.interpolate(this.delta[m],this.delta[v],b)}else p="absolute"===this.blend?this.type.interpolate(this.from,this.to,r):this.type.interpolate(this.delta,this.type.zero(this.to),r);var w=this.property;if(void 0!==w&&null!==w){var k=p,O=t[w];void 0!==O&&null!==O||(O=this.type.zero(this.to)),this.additive&&(k=this.type.add(O,p)),this.sort&&Array.isArray(k)&&k.sort(this.sort),t[w]=k}if(t[w]&&t[w].px&&t[w].px.length&&t[w].px.substring&&"NaN"===t[w].px.substring(t[w].px.length-3))throw new Error("hyperact NaN composite onto:"+JSON.stringify(t)+"; now:"+e+";");var j=r!==this.progress||this.finished;return this.progress=r,j}},T.prototype=Object.create(j.prototype),T.prototype.constructor=T,T.prototype.copy=function(){return new this.constructor(this)},T.prototype.runAnimation=function(t,e,n){if(this.type?A(this.type)&&(this.type=new this.type):this.type=w,!(A(this.type.zero)&&A(this.type.add)&&A(this.type.subtract)&&A(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");if("absolute"!==this.blend&&this.keyframes.length){for(var i=this.keyframes.length-1,r=[],o=0;o<i;o++)r[o]=this.type.subtract(this.keyframes[o],this.keyframes[i]);r[i]=this.type.zero(this.keyframes[i]),this.delta=r}null!==this.duration&&void 0!==this.duration||(this.duration=n.duration),null!==this.easing&&void 0!==this.easing||(this.easing=n.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=n.time),this.sortIndex=b++},T.prototype.convert=function(t,e){if(A(t)&&this.property){["keyframes","delta"].forEach(function(n){var i=this;if(this[n]){var r=this[n].slice(0);this[n]=r.map(function(n){return t.call(e,i.property,n)})}}.bind(this))}},T.prototype.description=function(t){var e=Object.assign({},this);return this.convert.call(e,t.output,t),e},E.prototype=Object.create(j.prototype),E.prototype.constructor=E,E.prototype.runAnimation=function(t,e,n){if(this.type?A(this.type)&&(this.type=new this.type):this.type=w,!(A(this.type.zero)&&A(this.type.add)&&A(this.type.subtract)&&A(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");this.from||(this.from=this.type.zero(this.to)),this.to||(this.to=this.type.zero(this.from)),"absolute"!==this.blend&&(this.delta=this.type.subtract(this.from,this.to)),null!==this.duration&&void 0!==this.duration||(this.duration=n.duration),null!==this.easing&&void 0!==this.easing||(this.easing=n.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=n.time),this.sortIndex=b++},E.prototype.convert=function(t,e){if(A(t)&&this.property){["from","to","delta"].forEach(function(n){var i=this[n];null!==i&&void 0!==i&&(this[n]=t.call(e,this.property,i))}.bind(this))}},E.prototype.description=function(t){var e=Object.assign({},this);return this.convert.call(e,t.output,t),e};var C=["display","animationForKey","input","output"],H=["addAnimation","animationNamed","needsDisplay","registerAnimatableProperty","removeAllAnimations","removeAnimation"],L=["layer","presentation","model","previous","animations","animationNames","animationCount"],J=new a,W=(J.beginTransaction.bind(J),J.commitTransaction.bind(J),J.currentTransaction.bind(J),J.flushTransaction.bind(J),J.disableAnimation.bind(J));function D(t,e,n,i){if(t){if(t.registerAnimatableProperty||t.addAnimation)throw new Error("Already hyperactive");e?P(e)&&(e={display:e}):e=t,n||(n=t)}else e?P(e)&&(e={display:e}):e={},n||(n=e);var r=[],o=[],s={},a={},u={},c=!1,h={},l={},p=null,d=null,y=null,m=null,v=[],g={};function b(t){J.registerFlusher(K);var n=J.currentTransaction(),i=V(),r=Object.keys(t);r.length&&(m=y,y=null),r.forEach(function(n){var i=t[n],r=z(n,e.keyInput,e);D(r);var o=M(i,r,e,a);h[r]=o,l[r]=i}),Object.keys(t).forEach(function(t){var r=z(t,e.keyInput,e),o=X()[t],s=G()[t];if(o!==s){var c=i[t];if(n.disableAnimation)Y();else{var h=function(t,e,n,i,r,o,s,a){var u=void 0,c=void 0;if(P(r.animationForKey)&&(c=r.animationForKey.call(r,t,e,n,i)),null===c)return null;o||(o={type:s}),o&&!I(o)&&(u=Object.assign({},o)),u&&!I(c)?u=Object.assign(u,c):(c||0===c)&&(u=c);var h=x(c);return h||!(h=x(o))||(h.duration||0===h.duration||a.duration&&(h.duration=a.duration),h.duration)?(h&&(h instanceof E||h instanceof T)&&(null!==h.property&&void 0!==h.property||(h.property=t),h instanceof E&&(null!==h.from&&void 0!==h.from||("absolute"===h.blend?h.from=i:h.from=n),null!==h.to&&void 0!==h.to||(h.to=e)),null!==h.easing&&void 0!==h.easing||(h.easing=a.easing),null!==h.duration&&void 0!==h.duration||(h.duration=a.duration),h.duration||(h.duration=0)),h):null}(t,o,s,c,e,u[r],a[r],n);h?Q(h):Y()}}})}function w(t,e,n){if(t instanceof O)t.group.forEach(function(t){w(t,-1,n)});else if(t instanceof k)t.chain.forEach(function(t){w(t,-1,n)});else if(!(t instanceof E||t instanceof T))throw new Error("not an animation");t.finished&&(function(t){return t.finished&&("forwards"===t.fillMode||"both"===t.fillMode)}(t)||function(t,e){if(e>-1){r.splice(e,1);var n=o[e];o.splice(e,1),delete s[n]}}(0,e),P(t.onend)&&n.push(t))}function A(){for(var t=r.length,e=[];t--;){w(r[t],t,e)}e.forEach(function(t){t.onend.call(t,!0),t.onend=null})}function j(t){var e=r.indexOf(t);if(e>-1){r.splice(e,1);var n=o[e];o.splice(e,1),delete s[n],P(t.onend)&&t.onend.call(t,!1)}}function W(i){return(n!==t||H.indexOf(i)<0&&L.indexOf(i)<0)&&(n!==e||C.indexOf(i)<0)}function D(t,e){_(t,e)}function _(t,i,r){var o=z(t,e.keyInput,e);if(W(t)){var s=!1,c=v.indexOf(o);-1===c&&(s=!0);var f=n[t];s&&v.push(o);var p=Object.getOwnPropertyDescriptor(n,t);if(null===i?(delete a[o],delete u[o],v.splice(c,1)):r||S(i)?(a[o]=i,s&&(u[o]={type:i})):(u[o]=i,i&&(a[o]=i.type)),void 0!==f&&null!==f){var d=M(f,o,e,a);h[o]=d,l[o]=f}p&&!0!==p.configurable||Object.defineProperty(n,t,{get:function(){return function(t){var n=z(t,e.keyOutput,e);return null===g?(console.log("activeBacking === null doesn't happen"),X()[n]):g[n]}(t)},set:function(e){!function(t,e){var n={};n[e]=t,b(n)}(e,t)},enumerable:!0,configurable:!0})}}function q(){return r.length}function R(){return Object.keys(n).filter(W).reduce(function(t,e){return t[e]=n[e],t},{})}function K(){d=null,p=null}function B(){d=null}function U(){var t=J.currentTransaction().time,n=Object.assign({},h),i=!0;return r.length&&(i=function(t,e,n,i){if(!e||!e.length)return!1;i&&e.sort(function(t,e){var n=(t.index||0)-(e.index||0);return n||(n=t.startTime-e.startTime),n||(n=t.sortIndex-e.sortIndex),n});var r=!1;return e.forEach(function(e){r=e.composite(t,n)||r;var i=e.property;if(i&&t[i]&&t[i].px&&t[i].px.length&&t[i].px.substring&&"NaN"===t[i].px.substring(t[i].px.length-3))throw new Error("hyperact NaN composite sourceLayer:"+JSON.stringify(t)+";")}),r}(n,r,t,c)),c=!1,!i&&p||(v.forEach(function(t){var i=z(t,e.keyOutput,e),r=n[t];r&&r.length&&r.substring&&r.substring(r.length-3),n[t]=N(r,i,e,a),n[t]&&n[t].length&&n[t].substring&&n[t].substring(n[t].length-3)}),Object.freeze(n),p=n),d=null,p}function V(){if(null!==d&&null!==p)return d;var t=U(),n=R();return v.forEach(function(i){var r=t[i],o=z(i,e.keyInput,e);Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!1})}),Object.freeze(n),d=n}function X(){if(null!==y)return y;var t=R();return v.forEach(function(n){var i=l[n],r=z(n,e.keyInput,e);Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!1})}),Object.freeze(t),y=t}function G(){return null!==m?m:X()}function Q(t,i){var h=J.currentTransaction();V();var f=x(t);if(!(f instanceof E||f instanceof T||f instanceof O||f instanceof k))throw new Error("Not a valid animation:"+JSON.stringify(f));if(F(f,e,u,a,_),r.length||Y(),r.push(f),null!==i&&void 0!==i){var l=s[i];l&&j(l),s[i]=f}void 0===i||null===i||!1===i?o.push(null):o.push(i),c=!0,f.runAnimation(n,i,h)}function Y(){var t=P(e.display)?function(t){g=U(),e.display.call(e,t),g=l}:function(){};J.registerTarget(n,U,q,t,B,A,!0,h)}function Z(t){var e=i?i[t]:void 0;return e&&S(e)?{type:e}:e}return Object.keys(n).filter(W).forEach(function(t){var i=n[t],r=z(t,e.keyInput,e);D(r,Z(t)||{type:new f});M(i,r,e,a);l[r]=i}),i&&Object.keys(i).filter(W).forEach(function(t){D(z(t,e.keyInput,e),Z(t))}),g=X(),g=l,t&&(t.registerAnimatableProperty=D,t.needsDisplay=function(){B(),Y()},t.addAnimation=Q,t.removeAnimation=function(t){var e=s[t];e&&j(e)},t.removeAllAnimations=function(){r.length=0,o.length=0,s={},r.forEach(function(t){P(t.onend)&&t.onend.call(t,!1)})},t.animationNamed=function(t){var n=s[t];return n?n.description.call(n,e):null},Object.defineProperty(t,"layer",{get:function(){return n},set:function(t){t&&b(t)},enumerable:!0,configurable:!1}),Object.defineProperty(t,"animationCount",{get:q,enumerable:!0,configurable:!1}),Object.defineProperty(t,"animations",{get:function(){return r.map(function(t){return t.description.call(t,e)})},enumerable:!0,configurable:!1}),Object.defineProperty(t,"animationNames",{get:function(){return Object.keys(s)},enumerable:!0,configurable:!1}),Object.defineProperty(t,"presentation",{get:V,enumerable:!0,configurable:!1}),Object.defineProperty(t,"model",{get:X,enumerable:!0,configurable:!1}),Object.defineProperty(t,"previous",{get:G,enumerable:!0,configurable:!1})),t}var _=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t){return function(t,e,n){var i=Math.sqrt(1-n*n);return 1-1/i*Math.exp(-n*e*t)*Math.sin(i*e*t+Math.atan(i/n))}(t=1-Math.cos(t*Math.PI/2),15,.6)}var K=function(){function t(e,n){q(this,t),D(this),this.element=e,this.iterations=50,this.vertices=500,this.radius=100,this.value=n,this.positionArray=this.plot(),this.registerAnimatableProperty("positionArray")}return _(t,[{key:"animationForKey",value:function(t,e,n){if("positionArray"===t)return{type:new p(f,2*this.vertices),duration:1,easing:R}}},{key:"plot",value:function(){for(var t=this.element,e=t.width/2,n=t.height/2,i=this.value*Math.PI,r=[],o=2*Math.PI/this.vertices,s=this.vertices+1,a=0;--s;){a-=o;var u=this.iterations,c=e,h=n;do{var f=u*a+u*u*i;c+=Math.sin(f)/u*this.radius,h+=Math.cos(f)/u*this.radius}while(--u);r.push(c),r.push(h)}return r}},{key:"layout",value:function(t){this.value=t,this.positionArray=this.plot(),this.needsDisplay()}},{key:"display",value:function(){var t=this.element,e=t.getContext("2d"),n=t.width,i=t.height;e.clearRect(0,0,n,i);var r=this.positionArray,o=r.length;if(o>1){e.beginPath(),e.moveTo(r[0],r[1]);for(var s=2;s<o;s+=2)e.lineTo(r[s],r[s+1]);e.closePath(),e.stroke()}}}]),t}(),B=function(){function t(e,n){q(this,t),D(this),this.element=e,this.value=n,this.registerAnimatableProperty("value")}return _(t,[{key:"animationForKey",value:function(t,e,n,i){return{duration:1,easing:R}}},{key:"layout",value:function(t){this.value=t}},{key:"display",value:function(){this.element.value=1e3*this.value}}]),t}(),U=Math.random(),V=document.createElement("input");V.type="range",V.min=0,V.max=1e3,V.value=1e3*U,document.body.appendChild(V);var X=new B(V,U),G=document.createElement("canvas");G.width=window.innerWidth,G.height=window.innerHeight,document.body.appendChild(G);var Q=new K(G,U);function Y(){G.width=window.innerWidth,G.height=window.innerHeight,W(!0),Q.layout(U),X.layout(U)}Y(),window.addEventListener("resize",Y),G.addEventListener("mousedown",function(t){t.stopPropagation(),t.preventDefault(),U=Math.random(),Q.layout(U),X.layout(U)}),document.addEventListener("mouseup",function(t){V.blur()}),V.addEventListener("input",function(t){U=V.value/1e3,Q.layout(U),X.layout(U)}),V.addEventListener("change",function(t){U=V.value/1e3,Q.layout(U),X.layout(U)}),V.addEventListener("mousedown",function(t){V.focus()})}]);