!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){"use strict";function n(t){return t&&"[object Function]"==={}.toString.call(t)}function i(t){this.time,this.disableAnimation=!1,this.duration,this.easing,t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}function a(){this.targets=[],this.transactions=[],this.ticking=!1,this.animationFrame,this.displayLayers=[],this.displayFunctions=[],this.cleanupFunctions=[],this.invalidateFunctions=[]}function o(t){return t&&"[object Function]"==={}.toString.call(t)}function s(t){return!isNaN(parseFloat(t))&&isFinite(t)}function u(t){return t&&"object"===(void 0===t?"undefined":ft(t))}function c(t){var e=[];Array.isArray(t)?e=t:t&&Array.isArray(t.chain)&&(e=t.chain),this.chain=e.map(function(t){return y(t)}),Object.defineProperty(this,"finished",{get:function(){return!this.chain.length||this.chain[this.chain.length-1].finished},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){"chain"!==e&&"finished"!==e&&(this[e]=t[e])}.bind(this))}function l(t){var e=[];Array.isArray(t)?e=t:t&&t.group&&(e=t.group),this.group=e.map(function(t){return y(t)}),Object.defineProperty(this,"finished",{get:function(){var t=!0;return this.group.forEach(function(e){e.finished||(t=!1)}),t},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(e){"group"!==e&&"finished"!==e&&(this[e]=t[e])}.bind(this))}function f(t){return t.finished&&("forwards"===t.fillMode||"both"===t.fillMode)}function h(){this.property,this.type=yt,this.duration,this.easing,this.speed,this.iterations,this.autoreverse,this.fillMode,this.index=0,this.delay=0,this.blend="relative",this.additive=!0,this.sort,this.finished=!1,this.startTime,this.progress,this.onend,this.remove=!0}function d(t){h.call(this);var e=[];t&&Array.isArray(t.keyframes)&&(e=t.keyframes),this.keyframes=e;var r=this.keyframes.length;t&&Object.keys(t).forEach(function(e){"keyframes"!==e&&(this[e]=t[e])}.bind(this)),Array.isArray(this.offsets)&&this.offsets.length===r?this.offsets.sort(function(t,e){return t-e}):this.offsets=r<2?[]:this.keyframes.map(function(t,e){return e/(r-1)}),this.progress=null}function p(t){h.call(this),this.from,this.to,this.delta,t&&Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this)),this.progress=null}function y(t){var e=void 0;if(!t&&(dt||0!==t))return t;if(t instanceof h||t instanceof d||t instanceof l||t instanceof c)e=t.copy.call(t);else if(Array.isArray(t))e=new l(t);else if(u(t))e=dt&&o(t.add)&&o(t.subtract)&&o(t.zero)&&o(t.interpolate)?new p({type:t}):Array.isArray(t.keyframes)?new d(t):Array.isArray(t.group)?new l(t):Array.isArray(t.chain)?new c(t):new p(t);else if(s(t))e=new p({duration:t});else{if(!0!==t)throw new Error("is this an animation:"+JSON.stringify(t));e=new p({})}return e}function m(t){return t&&"[object Function]"==={}.toString.call(t)}function g(t,e){if(t instanceof p||t instanceof d){if(e.typeForProperty&&t.property){var r=e.typeForProperty.call(e,t.property,t.to);r&&(t.type=r)}}else if(t instanceof l)t.group.forEach(function(t){g(t,e)});else{if(!(t instanceof c))throw new Error("not an animation");t.chain.forEach(function(t){g(t,e)})}}function v(t,e,r){return m(e)?e.call(r,t):t}function b(t,e,r,n){return m(r)?r.call(n,e,t):t}function w(t,e,r,n){if(e&&m(r)){if(null===t||void 0===t)throw new Error("convert property undefined");var i=e[t];null!==i&&void 0!==i&&(e[t]=r.call(n,t,i))}}function k(t,e,r,n){t.forEach(function(t){if(null===t||void 0===t)throw new Error("convert properties undefined");w(t,e,r,n)})}function x(t,e,r,n){if(!e||!e.length)return!1;n&&e.sort(function(t,e){var r=t.index||0,n=e.index||0,i=r-n;return i||(i=t.startTime-e.startTime),i||(i=t.sortIndex-e.sortIndex),i});var i=!1;return e.forEach(function(e){i=e.composite(t,r)||i}),i}function O(t,e,r,n,i,a,o){var s=void 0;if(m(i.animationForKey)&&(s=i.animationForKey.call(i,t,e,r,n)),mt&&null===s)return null;var u=y(s);return!u&&(u=y(a))&&mt&&(u.duration||0===u.duration||o.duration&&(u.duration=o.duration),!u.duration)?null:(u&&(u instanceof p||u instanceof d)&&(null!==u.property&&void 0!==u.property||(u.property=t),u instanceof p&&(null!==u.from&&void 0!==u.from||("absolute"===u.blend?u.from=n:u.from=r),null!==u.to&&void 0!==u.to||(u.to=e)),null!==u.easing&&void 0!==u.easing||(u.easing=o.easing),null!==u.duration&&void 0!==u.duration||(u.duration=o.duration),u.duration||(u.duration=0)),u)}function A(t,e,r){function n(t){return gt&&(t=v(t,e.keyOutput,e)),b(Y[t],t,e.output,e)}function i(t,e){var r={};r[e]=t,a(r)}function a(r){var n=xt.currentTransaction(),i=t.presentation,a={};Object.keys(r).forEach(function(n){var i=n,o=r[n];gt&&(i=v(n,e.keyInput,e)),t.registerAnimatableProperty(i);var s=b(o,n,e.input,e),u=P[i];z[i]=u,P[i]=s,a[n]=o}),n.disableAnimation||Object.keys(a).forEach(function(r){var o=r;gt&&(o=v(r,e.keyInput,e));var s=a[r],u=b(z[o],r,e.output,e);if(s!==u){var c=i[r],l=O(r,s,u,c,e,E[r],n);l?t.addAnimation(l):t.needsDisplay()}})}function o(){J=null}function s(){var r=function(){};m(e.display)&&(r=function(){Y=t.presentation,e.display.call(e),Y=P}),xt.registerTarget(t,r,o,w)}function u(t,e){if(e>-1){j.splice(e,1);var r=T[e];T.splice(e,1),delete M[r]}}function h(t,e,r){if(t instanceof l)t.group.forEach(function(t){h(t,-1,r)});else if(t instanceof c)t.chain.forEach(function(t){h(t,-1,r)});else if(!(t instanceof p||t instanceof d))throw new Error("not an animation");t.finished&&(f(t)||u(t,e),m(t.onend)&&r.push(t))}function w(){for(var e=j.length,r=[];e--;)h(j[e],e,r);vt||j.length||xt.deregisterTarget(t),r.forEach(function(t){t.onend.call(t,!0),t.onend=null})}function A(e){var r=j.indexOf(e);if(r>-1){j.splice(r,1);var n=T[r];T.splice(r,1),delete M[n],m(e.onend)&&e.onend.call(e,!1)}vt||j.length||xt.deregisterTarget(t)}function S(n){return(r!==t||wt.indexOf(n)<0&&kt.indexOf(n)<0)&&(r!==e||bt.indexOf(n)<0)}function N(){return Object.keys(r).filter(S).reduce(function(t,e){return t[e]=r[e],t},{})}if(!t)throw new Error("Nothing to hyperactivate.");if(t.registerAnimatableProperty||t.addAnimation)throw new Error("Already hyperactive");e||(e=t),r||(r=t);var j=[],T=[],M={},E={},F=!1,P={},z={},J=null,X=[],Y=P;return t.registerAnimatableProperty=function(t,a){if(S(t)){var o=!1;-1===X.indexOf(t)&&(o=!0),o&&X.push(t);var s=Object.getOwnPropertyDescriptor(r,t);if(a?E[t]=a:null===E[t]&&delete E[t],!s||!0===s.configurable){var u=b(r[t],t,e.input,e);P[t]=u,void 0===u&&(P[t]=null),o&&Object.defineProperty(r,t,{get:function(){return n(t)},set:function(e){i(e,t)},enumerable:!0,configurable:!0})}}},Object.defineProperty(t,"layer",{get:function(){return r},set:function(t){t&&a(t)},enumerable:!1,configurable:!1}),Object.defineProperty(t,"animationCount",{get:function(){return j.length},enumerable:!1,configurable:!1}),Object.defineProperty(t,"animations",{get:function(){return j.map(function(t){var r=t.copy.call(t);return r.convert.call(r,e.output,e),r})},enumerable:!1,configurable:!1}),Object.defineProperty(t,"animationNames",{get:function(){return Object.keys(M)},enumerable:!1,configurable:!1}),Object.defineProperty(t,"presentation",{get:function(){var t=xt.currentTransaction().time;if(null!==J)return J;var r=Object.assign(N(),P),n=!0,i=j.length;return i&&(n=x(r,j,t,F)),F=!1,n||null===J?(k(Object.keys(r),r,e.output,e),Object.freeze(r),J=i?r:null,r):J},enumerable:!1,configurable:!1}),Object.defineProperty(t,"model",{get:function(){var t=N();return X.forEach(function(r){var n=b(P[r],r,e.output,e);Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!1})}),Object.freeze(t),t},enumerable:!1,configurable:!1}),Object.defineProperty(t,"previous",{get:function(){var t=N();return X.forEach(function(r){var n=b(z[r],r,e.output,e);Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!1}),z[r]=P[r]}),Object.freeze(t),t},enumerable:!1,configurable:!1}),t.needsDisplay=function(){J=null,j.length||s()},t.addAnimation=function(r,n){e&&m(e.animationFromDescription)&&(r=e.animationFromDescription(r));var i=y(r);if(!(i instanceof p||i instanceof d||i instanceof l||i instanceof c))throw new Error("Not a valid animation:"+JSON.stringify(i));if(i.convert.call(i,e.input,e),g(i,e),j.length||s(),j.push(i),null!==n&&void 0!==n){var a=M[n];a&&A(a),M[n]=i}void 0===n||null===n||!1===n?T.push(null):T.push(n),F=!0;var o=xt.currentTransaction();i.runAnimation(t,n,o)},t.removeAnimation=function(t){var e=M[t];e&&A(e)},t.removeAllAnimations=function(){j.length=0,T.length=0,M={},j.forEach(function(t){m(t.onend)&&t.onend.call(t,!1)}),vt||xt.deregisterTarget(t)},t.animationNamed=function(t){var r=M[t];if(r){var n=r.copy.call(r);return n.convert.call(n,e.output,e),n}return null},Object.keys(r).forEach(function(e){mt?t.registerAnimatableProperty(e,!0):t.registerAnimatableProperty(e)}),t}function S(t){return t&&"[object Function]"==={}.toString.call(t)}function N(){}function j(){}function T(t,e,r){this.type=t,S(t)&&(this.type=new t(r)),this.length=e}function M(t){S(t)?this.sort=t:t&&S(t.sort)&&(this.sort=t.sort),this.debug="HyperSet"}function E(t,e,r,n){return{origin:P(t,e),size:J(r,n)}}function F(){return E(0,0,0,0)}function P(t,e){return{x:t,y:e}}function z(){return P(0,0)}function J(t,e){return{width:t,height:e}}function X(){return J(0,0)}function Y(t){return St[t]}function q(t){return t&&"[object Function]"==={}.toString.call(t)}function I(t,e){var r=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r}function Z(t,e){var r;if(1===t.length){var n=t[0];r=function(t){return t===n}}else r=function(e){return t.indexOf(e)>=0};return I(e,{add:function(t,n){return r(t)||r(n)?n:e.add(t,n)},subtract:function(t,n){return r(t)||r(n)?t:e.subtract(t,n)},zero:function(t){return""},interpolate:function(t,n,i){return r(t)||r(n)?Tt.interpolate(t,n,i):e.interpolate(t,n,i)},output:function(t,n){return r(t)?t:e.output(t,n)},input:function(t){return r(t)?t:e.input(t)}})}function H(t,e,r){return Math.max(Math.min(t,r),e)}function L(t,e,r,n){if(Array.isArray(t)||Array.isArray(e))return _(t,e,r,n);var i="scale"===n?1:0;return e=D(e)?e:i,t=D(t)?t:i,e*r+t*(1-r)}function _(t,e,r,n){for(var i=t?t.length:e.length,a=[],o=0;o<i;o++)a[o]=L(t?t[o]:null,e?e[o]:null,r,n);return a}function D(t){return C(t)&&null!==t}function C(t){return void 0!==t}function K(){if("undefined"==typeof document)return{calcFunction:"calc",transformProperty:"transform"};var t=R();return t.style.cssText="width: calc(0px);width: -webkit-calc(0px);",{calcFunction:t.style.width.split("(")[0],transformProperty:["transform","webkitTransform","msTransform"].filter(function(e){return e in t.style})[0]}}function R(){return document.documentElement.namespaceURI===Mt?document.createElementNS(Mt,"g"):document.createElement("div")}function B(){}function V(){}function U(){}function G(t){return"("+t+")"}function Q(t){return"(?:"+t+")?"}function W(t,e,r){for(var n=[Ht,Zt,t,Lt],i=0;i<e-1;i++)n.push(Ct),n.push(Dt);return n.push(Ct),r&&n.push(Q([Dt,Ct].join(""))),n.push(_t),new RegExp(n.join(""))}function $(t,e,r,n,i){var a=t;i&&("X"===t[t.length-1]||"Y"===t[t.length-1]?a=t.substring(0,t.length-1):"Z"===t[t.length-1]&&(a=t.substring(0,t.length-1)+"3d"));var o=function(a){var o=It(a,e,r,n);if(void 0!==i)if("X"===t[t.length-1])o.push(i);else if("Y"===t[t.length-1])o=[i].concat(o);else if("Z"===t[t.length-1])o=[i,i].concat(o);else if(r)for(;o.length<2;)"copy"===i?o.push(o[0]):o.push(i);return o};return[W(t,e,r),o,a]}function tt(t,e,r,n){var i=$(t,e,r,!0,n),a=function(t){return i[1](t).map(function(t){var e=0;for(var r in t)e+=Yt(t[r],r);return e})};return[i[0],a,i[2]]}function et(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}function rt(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function nt(t){switch(t.t){case"rotate":var e=t.d*Math.PI/180;return[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0];case"scale":return[t.d[0],0,0,t.d[1],0,0];case"translate":case"translate3d":return[1,0,0,1,t.d[0].px,t.d[1].px];case"matrix":return t.d;default:throw new Error("HyperStyle convertItemToMatrix unimplemented type:%s;",t.t)}}function it(t){return t.map(nt).reduce(rt)}function at(t,e,r){var n=Rt(it(t)),i=Rt(it(e)),a=et(n.quaternion,i.quaternion);a=H(a,-1,1);var o=[];if(1===a)o=n.quaternion;else for(var s=Math.acos(a),u=1*Math.sin(r*s)/Math.sqrt(1-a*a),c=0;c<4;c++)o.push(n.quaternion[c]*(Math.cos(r*s)-a*u)+i.quaternion[c]*u);var l=L(n.translate,i.translate,r),f=L(n.scale,i.scale,r),h=L(n.skew,i.skew,r),d=L(n.perspective,i.perspective,r);return Bt(l,f,h,o,d)}function ot(t,e,r){var n=t.t?t.t:e.t;switch(n){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"scale":case"scaleX":case"scaleY":case"scaleZ":case"scale3d":case"skew":case"skewX":case"skewY":case"matrix":return{t:n,d:L(t.d,e.d,r,n)};default:var i=[],a=0;t.d&&e.d?a=Math.max(t.d.length,e.d.length):t.d?a=t.d.length:e.d&&(a=e.d.length);for(var o=0;o<a;o++){var s=t.d?t.d[o]:{},u=e.d?e.d[o]:{};i.push(Jt.interpolate(s,u,r))}return{t:n,d:i}}}function st(t){return Number(t).toFixed(4)}function ut(t,e,r){function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}t=(t%360+360)%360/360,e/=100,r/=100;var i;i=r<=.5?r*(e+1):r+e-r*e;var a=2*r-i;return[Math.ceil(255*n(a,i,t+1/3)),Math.ceil(255*n(a,i,t)),Math.ceil(255*n(a,i,t-1/3))]}r.d(e,"b",function(){return Vt}),r.d(e,"a",function(){return A}),r.d(e,"c",function(){return j});var ct="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame)||function(t){setTimeout(t,0)},lt=Date.getTime;Date.now&&(lt=Date.now),"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now&&(lt=window.performance.now.bind(window.performance)),a.prototype={createTransaction:function(t,e){var r=new i(t),n=this.transactions.length,a=lt()/1e3;return n&&(a=this.transactions[n-1].representedObject.time),Object.defineProperty(r,"time",{get:function(){return a},enumerable:!0,configurable:!1}),this.transactions.push({representedObject:r,automaticallyCommit:e}),e&&this.startTicking(),r},currentTransaction:function(){var t=this.transactions.length;return t?this.transactions[t-1].representedObject:this.createTransaction({},!0)},beginTransaction:function(t){return this.createTransaction(t,!1)},commitTransaction:function(){this.transactions.pop()},flushTransaction:function(){this.invalidateFunctions.forEach(function(t){t()})},disableAnimation:function(t){!1!==t&&(t=!0),this.currentTransaction().disableAnimation=t,this.startTicking()},registerTarget:function(t,e,r,n){this.startTicking(),this.targets.indexOf(t)<0&&(this.targets.push(t),this.displayLayers.push(null),this.displayFunctions.push(e),this.cleanupFunctions.push(n),this.invalidateFunctions.push(r))},deregisterTarget:function(t){var e=this.targets.indexOf(t);e>-1&&(this.targets.splice(e,1),this.displayLayers.splice(e,1),this.displayFunctions.splice(e,1),this.cleanupFunctions.splice(e,1),this.invalidateFunctions.splice(e,1))},startTicking:function(){this.animationFrame||(this.animationFrame=ct(this.ticker.bind(this)))},ticker:function(){this.animationFrame=void 0;for(var t=this.targets,e=t.length;e--;){var r=t[e],i=this.displayFunctions[e];if(r.animationCount){var a=r.presentation;this.displayLayers[e]!==a&&(r.animationCount&&(this.displayLayers[e]=a),i(),this.invalidateFunctions[e]()),this.cleanupFunctions[e]()}else n(i)&&(r.presentation,i()),this.invalidateFunctions[e](),this.deregisterTarget(r)}var o=this.transactions.length;o&&this.transactions[o-1].automaticallyCommit&&this.commitTransaction(),this.targets.length&&this.startTicking()}};var ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),dt=!0,pt=0,yt={zero:function(){return 0},add:function(t,e){return t+e},subtract:function(t,e){return t-e},interpolate:function(t,e,r){return t+(e-t)*r}};c.prototype={constructor:c,copy:function(){return new this.constructor(this)},runAnimation:function(t,e,r){this.sortIndex=pt++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=r.time);for(var n=this.chain.length,i=Object.assign({},r),a=this.startTime,o=0;o<n;o++){var s=this.chain[o];i.time=a,s.runAnimation.call(s,t,e,i),a=a===1/0||s.iterations===1/0?1/0:a+s.delay+s.duration*s.iterations}},composite:function(t,e){for(var r=!1,n=this.chain.length,i=0;i<n;i++){var a=this.chain[i];r=a.composite.call(a,t,e)||r}return r},convert:function(t,e){o(t)&&this.chain.forEach(function(r){r.convert.call(r,t,e)})}},l.prototype={constructor:l,copy:function(){return new this.constructor(this)},runAnimation:function(t,e,r){this.sortIndex=pt++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=r.time),this.group.forEach(function(n){n.runAnimation.call(n,t,e,r)})},composite:function(t,e){var r=!1;return this.group.forEach(function(n){r=n.composite.call(n,t,e)||r}),r},convert:function(t,e){o(t)&&this.group.forEach(function(r){r.convert.call(r,t,e)})}},h.prototype={copy:function(){return new this.constructor(this)},composite:function(t,e){if(null===this.startTime||void 0===this.startTime)throw new Error("Cannot composite an animation that has not been started.");if(this.startTime>e&&"backwards"!==this.fillMode&&"both"!==this.fillMode)return!1;if(this.finished&&"forwards"!==this.fillMode&&"both"!==this.fillMode)return!1;var r=Math.max(0,e-(this.startTime+this.delay)),n=this.speed,i=1,a=1,s=this.duration,u=s*this.iterations;u&&(i=r*n/s,a=r*n/u),a>=1&&(i=1,this.finished=!0);var c=0;if(this.finished||(!0===this.autoreverse&&(c=Math.floor(i)%2),i%=1),c&&(i=1-i),o(this.easing))i=this.easing(i);else if("step-start"===this.easing)i=Math.ceil(i);else if("step-middle"===this.easing)i=Math.round(i);else if("step-end"===this.easing)i=Math.floor(i);else{var l=.5-Math.cos(i*Math.PI)/2;if(this.easing){var f=/(step-start|step-middle|step-end|steps)\((\d+)\)/.exec(this.easing);if(f){var h=f[1],p=f[2];p>0?"step-start"===h?i=Math.ceil(i*p)/p:"step-middle"===h?i=Math.round(i*p)/p:"step-end"!==h&&"steps"!==h||(i=Math.floor(i*p)/p):"linear"!==this.easing&&(i=l)}else"linear"!==this.easing&&(i=l)}else i=l}var y=void 0;if(this instanceof d){var m=this.keyframes.length;if(!m)throw new Error("HyperAction composite need to be able to handle zero keyframes");if(1===m)throw new Error("HyperAction composite need to be able to handle one keyframe");for(var g=m-1;g--&&!(i>=this.offsets[g]););var v=g,b=v+1,w=this.offsets[b]-this.offsets[v];if(0===w)throw new Error("can't divide by zero. check your keyframe offsets.");var k=i-this.offsets[v],x=k/w;y="absolute"===this.blend?this.type.interpolate(this.keyframes[v],this.keyframes[b],x):this.type.interpolate(this.delta[v],this.delta[b],x)}else y="absolute"===this.blend?this.type.interpolate(this.from,this.to,i):this.type.interpolate(this.delta,this.type.zero(this.to),i);var O=this.property;if(void 0!==O&&null!==O){var A=y,S=t[O];void 0!==S&&null!==S||(S=this.type.zero(this.to)),this.additive&&(A=this.type.add(S,y)),this.sort&&Array.isArray(A)&&A.sort(this.sort),t[O]=A}var N=i!==this.progress||this.finished;return this.progress=i,N}},d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.prototype.copy=function(){return new this.constructor(this)},d.prototype.runAnimation=function(t,e,r){if(o(this.type)&&(this.type=new this.type),!(this.type&&o(this.type.zero)&&o(this.type.add)&&o(this.type.subtract)&&o(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");if("absolute"!==this.blend&&this.keyframes.length){for(var n=this.keyframes.length-1,i=[],a=0;a<n;a++)i[a]=this.type.subtract(this.keyframes[a],this.keyframes[n]);i[n]=this.type.zero(this.keyframes[n]),this.delta=i}null!==this.duration&&void 0!==this.duration||(this.duration=r.duration),null!==this.easing&&void 0!==this.easing||(this.easing=r.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=r.time),this.sortIndex=pt++},d.prototype.convert=function(t,e){o(t)&&this.property&&["keyframes","delta"].forEach(function(r){var n=this;if(this[r]){var i=this[r].slice(0);this[r]=i.map(function(r){return t.call(e,n.property,r)})}}.bind(this))},p.prototype=Object.create(h.prototype),p.prototype.constructor=p,p.prototype.runAnimation=function(t,e,r){if(this.type||(this.type=yt),o(this.type)&&(this.type=new this.type),!(this.type&&o(this.type.zero)&&o(this.type.add)&&o(this.type.subtract)&&o(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");this.from||(this.from=this.type.zero(this.to)),this.to||(this.to=this.type.zero(this.from)),"absolute"!==this.blend&&(this.delta=this.type.subtract(this.from,this.to)),null!==this.duration&&void 0!==this.duration||(this.duration=r.duration),null!==this.easing&&void 0!==this.easing||(this.easing=r.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=r.time),this.sortIndex=pt++},p.prototype.convert=function(t,e){o(t)&&this.property&&["from","to","delta"].forEach(function(r){var n=this[r];null!==n&&void 0!==n&&(this[r]=t.call(e,this.property,n))}.bind(this))};var mt=!0,gt=!0,vt=!0,bt=["display","animationForKey","input","output"],wt=["addAnimation","animationNamed","needsDisplay","registerAnimatableProperty","removeAllAnimations","removeAnimation"],kt=["layer","presentation","model","previous","animations","animationNames","animationCount"],xt=new a;xt.beginTransaction.bind(xt),xt.commitTransaction.bind(xt),xt.currentTransaction.bind(xt),xt.flushTransaction.bind(xt),xt.disableAnimation.bind(xt),N.prototype={constructor:N,zero:function(){return 0},add:function(t,e){return t+e},subtract:function(t,e){return t-e},interpolate:function(t,e,r){return t+(e-t)*r},toString:function(){return"HyperNumber"},toJSON:function(){return this.toString()}},j.prototype={constructor:j,zero:function(){return 1},add:function(t,e){return t*e},subtract:function(t,e){return 0===e?0:t/e},interpolate:function(t,e,r){return t+(e-t)*r},toString:function(){return"HyperScale"},toJSON:function(){return this.toString()}},T.prototype={constructor:T,zero:function(){for(var t=[],e=this.length;e--;)t.push(this.type.zero());return t},add:function(t,e){for(var r=[],n=0;n<this.length;n++)r.push(this.type.add(t[n],e[n]));return r},subtract:function(t,e){for(var r=[],n=0;n<this.length;n++)r.push(this.type.subtract(t[n],e[n]));return r},interpolate:function(t,e,r){for(var n=[],i=0;i<this.length;i++)n.push(this.type.interpolate(t[i],e[i],r));return n},toString:function(){return"HyperArray"},toJSON:function(){return this.toString()}},M.prototype={constructor:M,zero:function(){return[]},add:function(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return[];if(!Array.isArray(t))return e;if(!Array.isArray(e))return t;var r=[],n=t.length,i=e.length,a=0,o=0;if(S(this.sort))for(;a<n||o<i;)if(a===n)r.push(e[o]),o++;else if(o===i)r.push(t[a]),a++;else{var s=t[a],u=e[o],c=this.sort(s,u);if(0===c)r.push(s),a++,o++;else if(c<0)r.push(s),a++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, add a:"+s+"; b:"+u+"; result:"+c+";");r.push(u),o++}}else for(r=t.slice(0),a=e.length;a--;)t.indexOf(e[a])<0&&r.push(e[a]);return r},subtract:function(t,e){if(!Array.isArray(t)&&!Array.isArray(e))return[];if(!Array.isArray(t))return e;if(!Array.isArray(e))return t;var r=[],n=t.length,i=e.length,a=0,o=0;if(S(this.sort))for(;(a<n||o<i)&&a!==n;)if(o===i)r.push(t[a]),a++;else{var s=t[a],u=e[o],c=this.sort(s,u);if(0===c)a++,o++;else if(c<0)r.push(s),a++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, subtract a:"+s+"; b:"+u+"; result:"+c+";");o++}}else for(r=t.slice(0),a=e.length;a--;){var l=r.indexOf(e[a]);l>-1&&r.splice(l,1)}return r},interpolate:function(t,e,r){return r>=1?e:t},toString:function(){return"HyperSet"},toJSON:function(){return this.toString()}};var Ot=function(){function t(){}return ht(t,[{key:"zero",value:function(){return z()}},{key:"add",value:function(t,e){return P(t.x+e.x,t.y+e.y)}},{key:"subtract",value:function(t,e){return P(t.x-e.x,t.y-e.y)}},{key:"interpolate",value:function(t,e,r){return P(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)}},{key:"toString",value:function(){return"HyperPoint"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),At=function(){function t(){}return ht(t,[{key:"zero",value:function(){return X()}},{key:"add",value:function(t,e){return J(t.width+e.width,t.height+e.height)}},{key:"subtract",value:function(t,e){return J(t.width-e.width,t.height-e.height)}},{key:"interpolate",value:function(t,e,r){return J(t.width+(e.width-t.width)*r,t.height+(e.height-t.height)*r)}},{key:"toString",value:function(){return"HyperSize"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),St=(function(){function t(){}ht(t,[{key:"zero",value:function(){return F()}},{key:"add",value:function(t,e){return{origin:Ot.prototype.add(t.origin,e.origin),size:At.prototype.add(t.size,e.size)}}},{key:"subtract",value:function(t,e){return{origin:Ot.prototype.subtract(t.origin,e.origin),size:At.prototype.subtract(t.size,e.size)}}},{key:"interpolate",value:function(t,e,r){return{origin:Ot.prototype.interpolate(t.origin,e.origin,r),size:At.prototype.interpolate(t.size,e.size,r)}}},{key:"toString",value:function(){return"HyperRect"}},{key:"toJSON",value:function(){return this.toString()}}])}(),Number.MAX_VALUE,{});({}).activate=function(t,e){var r={};r.typeOfProperty=function(t,e){return i&&q(i.typeOfProperty)?i.typeOfProperty.call(i,t,e):Y(t)},r.input=function(t,e){return i&&q(i.input)?i.input.call(i,t,e):Y(t).input(e)},r.output=function(t,e){if(i&&q(i.output))return i.output.call(i,t,e);var r=Y(t);return null===e||void 0===e?r.zero():r.output(e)},r.animationForKey=function(e,r,n,a){var o=Y(e);null!==n&&void 0!==n||(n=r);var s=o.output(r),u=o.output(n);null!==u&&void 0!==u||(u=s);var c;i&&q(i.animationForKey)&&(c=i.animationForKey(e,s,u,t));var l=y(c);return l&&void 0===l.property&&(l.property=e),l},r.animationFromDescription=function(t){var e=y(t);return e.property&&(e.type=Y(e.property)),e},r.display=function(){var t=e.presentation,r=Object.keys(t);r.forEach(function(e){var r=t[e];n[e]=r}),Object.keys(l).forEach(function(t){-1===r.indexOf(t)&&(n[t]="")}),l=t};var n=t.style,i=null,a={};for(var o in St){var s=t.style[o],u=r.input(o,s);a[o]=u}var c=new Nt(a,e),l={};A(e,r,a);try{Object.defineProperty(t,"style",{get:function(){return c},configurable:!0,enumerable:!0})}catch(t){}};var Nt=function(t,e){Object.defineProperty(this,"hyperStyleLayer",{get:function(){return t},enumerable:!1,configurable:!1}),Object.defineProperty(this,"hyperStyleController",{get:function(){return e},enumerable:!1,configurable:!1})};Nt.prototype={constructor:Nt};var jt,Tt={toString:function(){return"nonNumericType"},toJSON:function(){return this.toString()},zero:function(){return""},inverse:function(t){return t},add:function(t,e){return C(e)?e:t},subtract:function(t,e){return t},interpolate:function(t,e,r){return r<.5?t:e},output:function(t){return t},input:function(t){return t}},Mt="http://www.w3.org/2000/svg",Et=/^\s*(-webkit-)?calc\s*\(\s*([^)]*)\)/,Ft=/^\s*(-?[0-9]+(\.[0-9])?[0-9]*)([a-zA-Z%]*)/,Pt=/^\s*([+-])/,zt=/^\s*auto/i,Jt={toString:function(){return"lengthType"},toJSON:function(){return this.toString()},zero:function(){return{px:0}},add:function(t,e){null!==e&&void 0!==e||(e={}),null!==t&&void 0!==t||(t={});var r={};for(var n in t)r[n]=t[n]+(e[n]||0);for(var i in e)i in t||(r[i]=e[i]);return r},subtract:function(t,e){var r=this.inverse(e);return this.add(t,r)},interpolate:function(t,e,r){var n={};for(var i in t)n[i]=L(t[i],e[i],r);for(var a in e)a in n||(n[a]=L(0,e[a],r));return n},output:function(t){jt||(jt=K());var e="",r=!0;for(var n in t)""===e?e=t[n]+n:r?0!==t[n]&&(e=jt.calcFunction+"("+e+" + "+t[n]+n+")",r=!1):0!==t[n]&&(e=e.substring(0,e.length-1)+" + "+t[n]+n+")");return e},input:function(t){var e=Jt.consumeValueFromString(t);if(e)return e.value},consumeValueFromString:function(t){if(D(t)){var e=zt.exec(t);if(e)return{value:{auto:!0},remaining:t.substring(e[0].length)};var r={},n=Et.exec(t);if(n)for(var i=t.substring(n[0].length),a=n[2],o=!0;;){var s=!1;if(o)o=!1;else{var u=Pt.exec(a);if(!u)return;"-"===u[1]&&(s=!0),a=a.substring(u[0].length)}if(!(t=Ft.exec(a)))return;var c=t[3],l=Number(t[1]);if(D(r[c])||(r[c]=0),s?r[c]-=l:r[c]+=l,a=a.substring(t[0].length),/\s*/.exec(a)[0].length===a.length)return{value:r,remaining:i}}else{var f=Ft.exec(t);if(f&&4===f.length)return r[f[3]]=Number(f[1]),{value:r,remaining:t.substring(f[0].length)}}}},inverse:function(t){var e={};for(var r in t)e[r]=-t[r];return e}};Z(["auto"],Jt),B.prototype={toString:function(){return"NumberType"},toJSON:function(){return this.toString()},inverse:function(t){return"auto"===t?Tt.inverse(t):-1*t},zero:function(){return 0},add:function(t,e){return Number(t)!==t&&Number(e)!==e?0:(Number(t)!==t?t=0:Number(e)!==e&&(e=0),"auto"===t||"auto"===e?Tt.add(t,e):t+e)},subtract:function(t,e){return Number(t)!==t&&Number(e)!==e?0:(Number(t)!==t?t=0:Number(e)!==e&&(e=0),this.add(t,this.inverse(e)))},interpolate:function(t,e,r){return"auto"===t||"auto"===e?Tt.interpolate(t,e):L(t,e,r)},output:function(t){return t},input:function(t){if("auto"===t)return"auto";var e=Number(t);return isNaN(e)?void 0:e}};var Xt=new B;V.prototype=Object.create(B.prototype,{toString:function(){return"IntergerType"},toJSON:function(){return this.toString()},interpolate:function(t,e,r){return"auto"===t||"auto"===e?Tt.interpolate(t,e):Math.floor(L(t,e,r))}}),new V,U.prototype=Object.create(B,{toString:function(){return"OpacityType"},toJSON:function(){return this.toString()},zero:function(){return 0},unspecified:function(t){return 1}});var Yt=(new U,function(t,e){switch(e){case"grad":return t/400*360;case"rad":return t/2/Math.PI*360;case"turn":return 360*t;default:return t}}),qt=function(t,e,r){var n=Number(t[e]);if(!r)return n;var i=t[e+1];""===i&&(i="px");var a={};return a[i]=n,a},It=function(t,e,r,n){for(var i=[],a=0;a<e;a++)i.push(qt(t,1+2*a,n));return r&&t[1+2*e]&&i.push(qt(t,1+2*e,n)),i},Zt="\\s*",Ht="^",Lt=[Zt,"\\(",Zt].join(""),_t=[Zt,"\\)",Zt].join(""),Dt=[Zt,",",Zt].join(""),Ct=[G("[+-]?(?:\\d+|\\d*\\.\\d+)"),G("[a-zA-Z%]*")].join(""),Kt=[tt("rotate",1,!1),tt("rotateX",1,!1),tt("rotateY",1,!1),tt("rotateZ",1,!1),function(){var t=$("rotate3d",4,!1,!0),e=function(e){for(var r=t[1](e),n=[],i=0;i<3;i++)n.push(r[i].px);return n.push(r[3]),n};return[t[0],e,t[2]]}(),tt("skew",1,!0,0),tt("skewX",1,!1),tt("skewY",1,!1),$("translateX",1,!1,!0,{px:0}),$("translateY",1,!1,!0,{px:0}),$("translateZ",1,!1,!0,{px:0}),$("translate",1,!0,!0,{px:0}),$("translate3d",3,!1,!0),$("scale",1,!0,!1,"copy"),$("scaleX",1,!1,!1,1),$("scaleY",1,!1,!1,1),$("scaleZ",1,!1,!1,1),$("scale3d",3,!1,!1),$("perspective",1,!1,!0),$("matrix",6,!1,!1)],Rt=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function e(e){for(var r=1/t(e),n=e[0][0],i=e[0][1],a=e[0][2],o=e[1][0],s=e[1][1],u=e[1][2],c=e[2][0],l=e[2][1],f=e[2][2],h=[[(s*f-u*l)*r,(a*l-i*f)*r,(i*u-a*s)*r,0],[(u*c-o*f)*r,(n*f-a*c)*r,(a*o-n*u)*r,0],[(o*l-s*c)*r,(c*i-n*l)*r,(n*s-i*o)*r,0]],d=[],p=0;p<3;p++){for(var y=0,m=0;m<3;m++)y+=e[3][m]*h[m][p];d.push(y)}return d.push(1),h.push(d),h}function r(t){return[[t[0][0],t[1][0],t[2][0],t[3][0]],[t[0][1],t[1][1],t[2][1],t[3][1]],[t[0][2],t[1][2],t[2][2],t[3][2]],[t[0][3],t[1][3],t[2][3],t[3][3]]]}function n(t,e){for(var r=[],n=0;n<4;n++){for(var i=0,a=0;a<4;a++)i+=t[a]*e[a][n];r.push(i)}return r}function i(t){var e=a(t);return[t[0]/e,t[1]/e,t[2]/e]}function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function o(t,e,r,n){return[r*t[0]+n*e[0],r*t[1]+n*e[1],r*t[2]+n*e[2]]}function s(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function u(u){var c=[[u[0],u[1],0,0],[u[2],u[3],0,0],[0,0,1,0],[u[4],u[5],0,1]];if(1!==c[3][3])throw"attempt to decompose non-normalized matrix";for(var l=c.concat(),f=0;f<3;f++)l[f][3]=0;if(0===t(l))return!1;var h,d=[];0!==c[0][3]||0!==c[1][3]||0!==c[2][3]?(d.push(c[0][3]),d.push(c[1][3]),d.push(c[2][3]),d.push(c[3][3]),h=n(d,r(e(l)))):h=[0,0,0,1];var p=c[3].slice(0,3),y=[];y.push(c[0].slice(0,3));var m=[];m.push(a(y[0])),y[0]=i(y[0]);var g=[];y.push(c[1].slice(0,3)),g.push(et(y[0],y[1])),y[1]=o(y[1],y[0],1,-g[0]),m.push(a(y[1])),y[1]=i(y[1]),g[0]/=m[1],y.push(c[2].slice(0,3)),g.push(et(y[0],y[2])),y[2]=o(y[2],y[0],1,-g[1]),g.push(et(y[1],y[2])),y[2]=o(y[2],y[1],1,-g[2]),m.push(a(y[2])),y[2]=i(y[2]),g[1]/=m[2],g[2]/=m[2];var v=s(y[1],y[2]);if(et(y[0],v)<0)for(var b=0;b<3;b++)m[b]*=-1,y[b][0]*=-1,y[b][1]*=-1,y[b][2]*=-1;var w,k,x=y[0][0]+y[1][1]+y[2][2]+1;return x>1e-4?(w=.5/Math.sqrt(x),k=[(y[2][1]-y[1][2])*w,(y[0][2]-y[2][0])*w,(y[1][0]-y[0][1])*w,.25/w]):y[0][0]>y[1][1]&&y[0][0]>y[2][2]?(w=2*Math.sqrt(1+y[0][0]-y[1][1]-y[2][2]),k=[.25*w,(y[0][1]+y[1][0])/w,(y[0][2]+y[2][0])/w,(y[2][1]-y[1][2])/w]):y[1][1]>y[2][2]?(w=2*Math.sqrt(1+y[1][1]-y[0][0]-y[2][2]),k=[(y[0][1]+y[1][0])/w,.25*w,(y[1][2]+y[2][1])/w,(y[0][2]-y[2][0])/w]):(w=2*Math.sqrt(1+y[2][2]-y[0][0]-y[1][1]),k=[(y[0][2]+y[2][0])/w,(y[1][2]+y[2][1])/w,.25*w,(y[1][0]-y[0][1])/w]),{translate:p,scale:m,skew:g,quaternion:k,perspective:h}}return u}(),Bt=function(){function t(t,e){for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<4;n++)for(var i=0;i<4;i++)for(var a=0;a<4;a++)r[n][i]+=e[n][a]*t[a][i];return r}function e(e,r,n,i,a){for(var o=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s=0;s<4;s++)o[s][3]=a[s];for(var u=0;u<3;u++)for(var c=0;c<3;c++)o[3][u]+=e[c]*o[c][u];var l=i[0],f=i[1],h=i[2],d=i[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(f*f+h*h),p[0][1]=2*(l*f-h*d),p[0][2]=2*(l*h+f*d),p[1][0]=2*(l*f+h*d),p[1][1]=1-2*(l*l+h*h),p[1][2]=2*(f*h-l*d),p[2][0]=2*(l*h-f*d),p[2][1]=2*(f*h+l*d),p[2][2]=1-2*(l*l+f*f),o=t(o,p);var y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];n[2]&&(y[2][1]=n[2],o=t(o,y)),n[1]&&(y[2][1]=0,y[2][0]=n[0],o=t(o,y));for(var m=0;m<3;m++)for(var g=0;g<3;g++)o[m][g]*=r[m];return{t:"matrix",d:[o[0][0],o[0][1],o[1][0],o[1][1],o[3][0],o[3][1]]}}return e}(),Vt={toString:function(){return"transformType"},toJSON:function(){return this.toString()},inverse:function(t){t&&t.length||(t=this.zero());for(var e=this.zero(t),r=[],n=0;n<t.length;n++)switch(t[n].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":r.push({t:t[n].t,d:[Xt.inverse(t[n].d[0])]});break;case"skew":r.push({t:t[n].t,d:[Xt.inverse(t[n].d[0]),Xt.inverse(t[n].d[1])]});break;case"translateX":case"translateY":case"translateZ":case"perspective":r.push({t:t[n].t,d:[Xt.inverse(t[n].d[0])]});break;case"translate":r.push({t:t[n].t,d:[{px:Xt.inverse(t[n].d[0].px)},{px:Xt.inverse(t[n].d[1].px)}]});break;case"translate3d":r.push({t:t[n].t,d:[{px:Xt.inverse(t[n].d[0].px)},{px:Xt.inverse(t[n].d[1].px)},{px:Xt.inverse(t[n].d[2].px)}]});break;case"scale":r.push({t:t[n].t,d:[e[n].d[0]/t[n].d[0],e[n].d[1]/t[n].d[1]]});break;case"scaleX":case"scaleY":case"scaleZ":r.push({t:t[n].t,d:[e[n].d[0]/t[n].d[0]]});break;case"scale3d":r.push({t:t[n].t,d:[e[n].d[0]/t[n].d[0],e[n].d[1]/t[n].d[1],-1/t[n].d[2]]});break;case"matrix":r.push({t:t[n].t,d:[Xt.inverse(t[n].d[0]),Xt.inverse(t[n].d[1]),Xt.inverse(t[n].d[2]),Xt.inverse(t[n].d[3]),Xt.inverse(t[n].d[4]),Xt.inverse(t[n].d[5])]})}return r},add:function(t,e){if(!t||!t.length)return e;if(!e||!e.length)return t;var r=t.length,n=e.length;if(r&&n&&r>=n){for(var i=r-n,a=!0,o=0,s=i;s<r;s++){if(t[s].t!==e[o].t){a=!1;break}o++}if(a)return this.sum(t,e)}return t.concat(e)},sum:function(t,e){for(var r=[],n=t.length,i=e.length,a=n-i,o=0,s=0;s<n;s++)if(s<a)r.push(t[s]);else{switch(t[s].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":r.push({t:t[s].t,d:[Xt.add(t[s].d[0],e[o].d[0])]});break;case"skew":r.push({t:t[s].t,d:[Xt.add(t[s].d[0],e[o].d[0]),Xt.add(t[s].d[1],e[o].d[1])]});break;case"translateX":case"translateY":case"translateZ":case"perspective":r.push({t:t[s].t,d:[Xt.add(t[s].d[0],e[o].d[0])]});break;case"translate":r.push({t:t[s].t,d:[{px:Xt.add(t[s].d[0].px,e[o].d[0].px)},{px:Xt.add(t[s].d[1].px,e[o].d[1].px)}]});break;case"translate3d":r.push({t:t[s].t,d:[{px:Xt.add(t[s].d[0].px,e[o].d[0].px)},{px:Xt.add(t[s].d[1].px,e[o].d[1].px)},{px:Xt.add(t[s].d[2].px,e[o].d[2].px)}]});break;case"scale":r.push({t:t[s].t,d:[t[s].d[0]*e[o].d[0],t[s].d[1]*e[o].d[1]]});break;case"scaleX":case"scaleY":case"scaleZ":r.push({t:t[s].t,d:[t[s].d[0]*e[o].d[0]]});break;case"scale3d":r.push({t:t[s].t,d:[t[s].d[0]*e[o].d[0],t[s].d[1]*e[o].d[1],t[s].d[2]*e[o].d[2]]});break;case"matrix":r.push({t:t[s].t,d:[Xt.add(t[s].d[0],e[o].d[0]),Xt.add(t[s].d[1],e[o].d[1]),Xt.add(t[s].d[2],e[o].d[2]),Xt.add(t[s].d[3],e[o].d[3]),Xt.add(t[s].d[4],e[o].d[4]),Xt.add(t[s].d[5],e[o].d[5])]})}o++}return r},zero:function(t){var e=[1,0,0,1,0,0];if(!t)return[{t:"matrix",d:e}];for(var r=[],n=0;n<t.length;n++)switch(t[n].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":r.push({t:t[n].t,d:[0]});break;case"skew":r.push({t:t[n].t,d:[0,0]});break;case"translateX":case"translateY":case"translateZ":case"perspective":r.push({t:t[n].t,d:[0]});break;case"translate":r.push({t:t[n].t,d:[{px:0},{px:0}]});break;case"translate3d":r.push({t:t[n].t,d:[{px:0},{px:0},{px:0}]});break;case"scale":r.push({t:t[n].t,d:[1,1]});break;case"scaleX":case"scaleY":case"scaleZ":r.push({t:t[n].t,d:[1]});break;case"scale3d":r.push({t:t[n].t,d:[1,1,1]});break;case"matrix":r.push({t:t[n].t,d:e})}return r},subtract:function(t,e){var r=this.inverse(e);return this.add(t,r)},interpolate:function(t,e,r){var n,i=[];for(n=0;n<Math.min(t.length,e.length)&&t[n].t===e[n].t;n++)i.push(ot(t[n],e[n],r));if(n<Math.min(t.length,e.length))return i.push(at(t.slice(n),e.slice(n),r)),i;for(;n<t.length;n++)i.push(ot(t[n],{t:null,d:null},r));for(;n<e.length;n++)i.push(ot({t:null,d:null},e[n],r));return i},output:function(t,e){if(null===t||void 0===t)return"";if("string"==typeof t)return t;for(var r,n="",i=0;i<t.length;i++)switch(t[i].t){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":r=e?"":"deg",n+=t[i].t+"("+t[i].d[0]+r+") ";break;case"skew":r=e?"":"deg",n+=t[i].t+"("+t[i].d[0]+r,0===t[i].d[1]?n+=") ":n+=", "+t[i].d[1]+r+") ";break;case"translateX":case"translateY":case"translateZ":case"perspective":n+=t[i].t+"("+Jt.output(t[i].d[0])+") ";break;case"translate":if(e){void 0===t[i].d[1]?n+=t[i].t+"("+t[i].d[0].px+") ":n+=t[i].t+"("+t[i].d[0].px+", "+t[i].d[1].px+") ";break}void 0===t[i].d[1]?n+=t[i].t+"("+Jt.output(t[i].d[0])+") ":n+=t[i].t+"("+Jt.output(t[i].d[0])+", "+Jt.output(t[i].d[1])+") ";break;case"translate3d":var a=t[i].d.map(Jt.output);n+=t[i].t+"("+a[0]+", "+a[1]+", "+a[2]+") ";break;case"scale":t[i].d[0]===t[i].d[1]?n+=t[i].t+"("+t[i].d[0]+") ":n+=t[i].t+"("+t[i].d[0]+", "+t[i].d[1]+") ";break;case"scaleX":case"scaleY":case"scaleZ":n+=t[i].t+"("+t[i].d[0]+") ";break;case"scale3d":n+=t[i].t+"("+t[i].d[0]+", "+t[i].d[1]+", "+t[i].d[2]+") ";break;case"matrix":n+=t[i].t+"("+st(t[i].d[0])+", "+st(t[i].d[1])+", "+st(t[i].d[2])+", "+st(t[i].d[3])+", "+st(t[i].d[4])+", "+st(t[i].d[5])+") "}return n.substring(0,n.length-1)},input:function(t){for(var e=[];"string"==typeof t&&t.length>0;){for(var r,n=0;n<Kt.length;n++){var i=Kt[n];if(r=i[0].exec(t)){e.push({t:i[2],d:i[1](r)}),t=t.substring(r[0].length);break}}if(!D(r))return e}return e}},Ut=new RegExp("(hsla?|rgba?)\\(([\\-0-9]+%?),?\\s*([\\-0-9]+%?),?\\s*([\\-0-9]+%?)(?:,?\\s*([\\-0-9\\.]+%?))?\\)"),Gt=new RegExp("#([0-9A-Fa-f][0-9A-Fa-f]?)([0-9A-Fa-f][0-9A-Fa-f]?)([0-9A-Fa-f][0-9A-Fa-f]?)"),Qt={aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],transparent:[0,0,0,0],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};Z(["currentColor"],{toString:function(){return"ColorType"},toJSON:function(){return this.toString()},inverse:function(t){return this.subtract(t,[255,255,255,1])},zero:function(){return[0,0,0,0]},_premultiply:function(t){var e=t[3];return[t[0]*e,t[1]*e,t[2]*e]},add:function(t,e){var r=Math.min(t[3]+e[3],1);return 0===r?[0,0,0,0]:(t=this._premultiply(t),e=this._premultiply(e),[(t[0]+e[0])/r,(t[1]+e[1])/r,(t[2]+e[2])/r,r])},subtract:function(t,e){var r=Math.min(t[3]+e[3],1);return 0===r?[0,0,0,0]:(t=this._premultiply(t),e=this._premultiply(e),[(t[0]-e[0])/r,(t[1]-e[1])/r,(t[2]-e[2])/r,r])},interpolate:function(t,e,r){var n=H(L(t[3],e[3],r),0,1);return 0===n?[0,0,0,0]:(t=this._premultiply(t),e=this._premultiply(e),[L(t[0],e[0],r)/n,L(t[1],e[1],r)/n,L(t[2],e[2],r)/n,n])},output:function(t){return"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},input:function(t){var e=[],r=Gt.exec(t);if(r){if(4!==t.length&&7!==t.length)return;r.shift();for(var n=0;n<3;n++){1===r[n].length&&(r[n]=r[n]+r[n]);var i=Math.max(Math.min(parseInt(r[n],16),255),0);e[n]=i}e.push(1)}var a=Ut.exec(t);if(a){a.shift();for(var o=a.shift().substr(0,3),s=0;s<3;s++){var u=1;"%"===a[s][a[s].length-1]&&(a[s]=a[s].substr(0,a[s].length-1),u=2.55),e[s]="rgb"===o?H(Math.round(parseInt(a[s],10)*u),0,255):parseInt(a[s],10)}"hsl"===o&&(e=ut.apply(null,e)),void 0!==a[3]?e[3]=Math.max(Math.min(parseFloat(a[3]),1),0):e.push(1)}if(!e.some(isNaN))return e.length>0?e:Qt[t]}}),I(Tt,{toString:function(){return"visibilityType"},toJSON:function(){return this.toString()},zero:function(){return"hidden"},unspecified:function(){return"visible"},add:function(t,e){return"visible"!==t&&"visible"!==e?Tt.add(t,e):"visible"},subtract:function(t,e){return"visible"===e&&"visible"===t?"hidden":t},interpolate:function(t,e,r){return"visible"!==t&&"visible"!==e?Tt.interpolate(t,e,r):r<=0?t:r>=1?e:"visible"},input:function(t){if(-1!==["visible","hidden","collapse"].indexOf(t))return t}})},function(t,e,r){"use strict";function n(t){r.i(a.a)(this),this.display=function(){document.getElementById(t).innerHTML=t+":<br>keys&nbsp;"+JSON.stringify(Object.keys(this))+"<br>own&nbsp;"+JSON.stringify(Object.getOwnPropertyNames(this))+"<br>this:"+JSON.stringify(this)+"<br>this.layer:"+JSON.stringify(this.layer)+"<br>this.model:"+JSON.stringify(this.model)+"<br>this.presentation:"+JSON.stringify(this.presentation)+"<br>this.previous:"+JSON.stringify(this.previous)+"<br><br>"}}function i(t){r.i(a.a)(this,this,{}),this.display=function(){document.getElementById(t).innerHTML=t+":<br>keys&nbsp;"+JSON.stringify(Object.keys(this))+"<br>own&nbsp;"+JSON.stringify(Object.getOwnPropertyNames(this))+"<br>this:"+JSON.stringify(this)+"<br>this.layer:"+JSON.stringify(this.layer)+"<br>this.model:"+JSON.stringify(this.model)+"<br>this.presentation:"+JSON.stringify(this.presentation)+"<br>this.previous:"+JSON.stringify(this.previous)+"<br><br>"}}Object.defineProperty(e,"__esModule",{value:!0});var a=r(0);n.prototype={animationForKey:function(t,e,r,n){return"transform"===t?{property:"transform",type:a.b,duration:1,from:r,to:e}:10},input:function(t,e){return"transform"===t?a.b.input(e):e},output:function(t,e){return"transform"===t?a.b.output(e):Math.round(e)}};var o=new n("one");o.registerAnimatableProperty("x"),o.registerAnimatableProperty("a"),o.layer.a=1,o.layer.b=2,o.transform="translate3d(0px, 0px, 0px)",o.registerAnimatableProperty("transform"),o.layer={c:30};var s={property:"e",duration:5,from:5,to:0,onend:function(t){console.log("onend:",this)}};o.addAnimation(s),i.prototype={animationForKey:function(t,e,r,n){return"transform"===t?{property:"transform",type:a.b,duration:1,from:r,to:e}:1},input:function(t,e){return"transform"===t?a.b.input(e):e},output:function(t,e){return"transform"===t?a.b.output(e):"x"===t?Number(e).toFixed(1):e}};var u=new i("two");u.registerAnimatableProperty("x"),u.layer.a=1,u.layer.b=2,u.registerAnimatableProperty("transform"),u.layer={c:3,transform:"translate3d(100px, 100px, 0px)"};var c={animationForKey:function(t,e,r,n){return"transform"===t?{property:"transform",type:a.b,duration:1,from:r,to:e}:1},display:function(){document.getElementById("three").innerHTML="three:<br>keys&nbsp;"+JSON.stringify(Object.keys(this))+"<br>own&nbsp;"+JSON.stringify(Object.getOwnPropertyNames(this))+"<br>this:"+JSON.stringify(this)+"<br>this.layer:"+JSON.stringify(this.layer)+"<br>this.model:"+JSON.stringify(this.model)+"<br>this.presentation:"+JSON.stringify(this.presentation)+"<br>this.previous:"+JSON.stringify(this.previous)+"<br><br>"},input:function(t,e){return"transform"===t?a.b.input(e):("x"===t&&e&&e.length>4&&" !!!"===e.substring(e.length-4)&&(e=Number(e.substring(0,e.length-4))),e)},output:function(t,e){return"transform"===t?a.b.output(e):"x"===t&&e?Math.round(e)+" !!!":e}};r.i(a.a)(c),c.registerAnimatableProperty("x"),c.registerAnimatableProperty("transform"),c.layer={c:3,transform:"translate3d(100px, 100px, 0px)"};var l={animationForKey:function(t,e,r,n){return"transform"===t?{property:"transform",type:a.b,duration:1,from:r,to:e}:1},display:function(){document.getElementById("four").innerHTML="four:<br>keys&nbsp;"+JSON.stringify(Object.keys(l))+"<br>own&nbsp;"+JSON.stringify(Object.getOwnPropertyNames(l))+"<br>this:"+JSON.stringify(this)+"<br>this.layer:"+JSON.stringify(this.layer)+"<br>this.model:"+JSON.stringify(this.model)+"<br>this.presentation:"+JSON.stringify(this.presentation)+"<br>this.previous:"+JSON.stringify(this.previous)+"<br><br>"},input:function(t,e){if("transform"===t)return a.b.input(e)},output:function(t,e){if("transform"===t)return a.b.output(e)}};r.i(a.a)(l,l,{scale:1}),l.registerAnimatableProperty("x"),l.registerAnimatableProperty("transform"),l.layer={c:3,transform:"translate3d(100px, 100px, 0px)"},l.registerAnimatableProperty("scale",{type:new a.c,duration:5}),l.layer.scale=2,document.addEventListener("mousemove",function(t){o.x=t.clientX,o.transform="translate3d("+event.clientX+"px, "+event.clientY+"px, 0px)",u.layer.x=t.clientX,c.x=t.clientX,c.transform="translate3d("+event.clientX+"px, "+event.clientY+"px, 0px)",l.layer.x=t.clientX});var f={property:"c",duration:1,from:1,to:1,blend:"absolute",additive:!1},h={property:"c",duration:1,from:1,to:1,blend:"absolute"},d={property:"d",duration:1,from:1,to:1,blend:"absolute",additive:!1},p={property:"d",duration:1,from:1,to:1,blend:"absolute"},y={property:"e",duration:1,from:1,to:1,blend:"absolute",additive:!1};document.addEventListener("mousedown",function(t){o.addAnimation(f),o.addAnimation(d),o.addAnimation(y),u.addAnimation(h),u.addAnimation(p),u.addAnimation(y),u.layer.transform="translate3d("+t.clientX+"px, "+t.clientY+"px, 0px)",c.addAnimation(h),c.addAnimation(p),c.addAnimation(y),l.addAnimation(f),l.addAnimation(d),l.addAnimation(y),l.layer.transform="translate3d("+t.clientX+"px, "+t.clientY+"px, 0px)",o.addAnimation([{property:"transform",type:a.b,from:"translate3d(0px, 0px, 1px)",to:"translate3d(0px, 0px, 1px)",duration:1,blend:"absolute"},{property:"a",from:1,to:1,duration:2,blend:"absolute"},{property:"b",from:1,to:1,duration:2,blend:"absolute"},{property:"c",from:1,to:1,duration:2,blend:"absolute"}])})}]);