!function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=10)}([function(t,n,r){"use strict";t.exports=function(){}},function(t,n,r){"use strict";n.__esModule=!0;n.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},n.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t};var e=n.hasBasename=function(t,n){return new RegExp("^"+n+"(\\/|\\?|#|$)","i").test(t)};n.stripBasename=function(t,n){return e(t,n)?t.substr(n.length):t},n.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},n.parsePath=function(t){var n=t||"/",r="",e="",i=n.indexOf("#");-1!==i&&(e=n.substr(i),n=n.substr(0,i));var o=n.indexOf("?");return-1!==o&&(r=n.substr(o),n=n.substr(0,o)),{pathname:n,search:"?"===r?"":r,hash:"#"===e?"":e}},n.createPath=function(t){var n=t.pathname,r=t.search,e=t.hash,i=n||"/";return r&&"?"!==r&&(i+="?"===r.charAt(0)?r:"?"+r),e&&"#"!==e&&(i+="#"===e.charAt(0)?e:"#"+e),i}},function(t,n,r){"use strict";n.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},o=h(r(0)),a=h(r(3)),u=r(4),s=r(1),c=h(r(7)),f=r(8);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){try{return window.history.state||{}}catch(t){return{}}};n.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(f.canUseDOM,"Browser history needs a DOM");var n=window.history,r=(0,f.supportsHistory)(),h=!(0,f.supportsPopStateOnHashChange)(),d=t.forceRefresh,p=void 0!==d&&d,m=t.getUserConfirmation,M=void 0===m?f.getConfirmation:m,y=t.keyLength,b=void 0===y?6:y,g=t.basename?(0,s.stripTrailingSlash)((0,s.addLeadingSlash)(t.basename)):"",v=function(t){var n=t||{},r=n.key,e=n.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,o.default)(!g||(0,s.hasBasename)(a,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+g+'".'),g&&(a=(0,s.stripBasename)(a,g)),(0,u.createLocation)(a,e,r)},w=function(){return Math.random().toString(36).substr(2,b)},A=(0,c.default)(),x=function(t){i(C,t),C.length=n.length,A.notifyListeners(C.location,C.action)},E=function(t){(0,f.isExtraneousPopstateEvent)(t)||T(v(t.state))},O=function(){T(v(l()))},S=!1,T=function(t){S?(S=!1,x()):A.confirmTransitionTo(t,"POP",M,function(n){n?x({action:"POP",location:t}):k(t)})},k=function(t){var n=C.location,r=F.indexOf(n.key);-1===r&&(r=0);var e=F.indexOf(t.key);-1===e&&(e=0);var i=r-e;i&&(S=!0,j(i))},P=v(l()),F=[P.key],q=function(t){return g+(0,s.createPath)(t)},j=function(t){n.go(t)},R=0,L=function(t){1===(R+=t)?((0,f.addEventListener)(window,"popstate",E),h&&(0,f.addEventListener)(window,"hashchange",O)):0===R&&((0,f.removeEventListener)(window,"popstate",E),h&&(0,f.removeEventListener)(window,"hashchange",O))},I=!1,C={length:n.length,action:"POP",location:P,createHref:q,push:function(t,i){(0,o.default)(!("object"===(void 0===t?"undefined":e(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(t,i,w(),C.location);A.confirmTransitionTo(a,"PUSH",M,function(t){if(t){var e=q(a),i=a.key,u=a.state;if(r)if(n.pushState({key:i,state:u},null,e),p)window.location.href=e;else{var s=F.indexOf(C.location.key),c=F.slice(0,-1===s?0:s+1);c.push(a.key),F=c,x({action:"PUSH",location:a})}else(0,o.default)(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=e}})},replace:function(t,i){(0,o.default)(!("object"===(void 0===t?"undefined":e(t))&&void 0!==t.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,u.createLocation)(t,i,w(),C.location);A.confirmTransitionTo(a,"REPLACE",M,function(t){if(t){var e=q(a),i=a.key,u=a.state;if(r)if(n.replaceState({key:i,state:u},null,e),p)window.location.replace(e);else{var s=F.indexOf(C.location.key);-1!==s&&(F[s]=a.key),x({action:"REPLACE",location:a})}else(0,o.default)(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(e)}})},go:j,goBack:function(){return j(-1)},goForward:function(){return j(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=A.setPrompt(t);return I||(L(1),I=!0),function(){return I&&(I=!1,L(-1)),n()}},listen:function(t){var n=A.appendListener(t);return L(1),function(){L(-1),n()}}};return C}},function(t,n,r){"use strict";t.exports=function(t,n,r,e,i,o,a,u){if(!t){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,e,i,o,a,u],f=0;(s=new Error(n.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(t,n,r){"use strict";n.__esModule=!0,n.locationsAreEqual=n.createLocation=void 0;var e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},i=u(r(5)),o=u(r(6)),a=r(1);function u(t){return t&&t.__esModule?t:{default:t}}n.createLocation=function(t,n,r,o){var u=void 0;"string"==typeof t?(u=(0,a.parsePath)(t)).state=n:(void 0===(u=e({},t)).pathname&&(u.pathname=""),u.search?"?"!==u.search.charAt(0)&&(u.search="?"+u.search):u.search="",u.hash?"#"!==u.hash.charAt(0)&&(u.hash="#"+u.hash):u.hash="",void 0!==n&&void 0===u.state&&(u.state=n));try{u.pathname=decodeURI(u.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+u.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(u.key=r),o?u.pathname?"/"!==u.pathname.charAt(0)&&(u.pathname=(0,i.default)(u.pathname,o.pathname)):u.pathname=o.pathname:u.pathname||(u.pathname="/"),u},n.locationsAreEqual=function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&(0,o.default)(t.state,n.state)}},function(t,n,r){"use strict";function e(t){return"/"===t.charAt(0)}function i(t,n){for(var r=n,e=r+1,i=t.length;e<i;r+=1,e+=1)t[r]=t[e];t.pop()}r.r(n),n.default=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t&&t.split("/")||[],o=n&&n.split("/")||[],a=t&&e(t),u=n&&e(n),s=a||u;if(t&&e(t)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";var c=void 0;if(o.length){var f=o[o.length-1];c="."===f||".."===f||""===f}else c=!1;for(var h=0,l=o.length;l>=0;l--){var d=o[l];"."===d?i(o,l):".."===d?(i(o,l),h++):h&&(i(o,l),h--)}if(!s)for(;h--;h)o.unshift("..");!s||""===o[0]||o[0]&&e(o[0])||o.unshift("");var p=o.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p}},function(t,n,r){"use strict";r.r(n);var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.default=function t(n,r){if(n===r)return!0;if(null==n||null==r)return!1;if(Array.isArray(n))return Array.isArray(r)&&n.length===r.length&&n.every(function(n,e){return t(n,r[e])});var i=void 0===n?"undefined":e(n);if(i!==(void 0===r?"undefined":e(r)))return!1;if("object"===i){var o=n.valueOf(),a=r.valueOf();if(o!==n||a!==r)return t(o,a);var u=Object.keys(n),s=Object.keys(r);return u.length===s.length&&u.every(function(e){return t(n[e],r[e])})}return!1}},function(t,n,r){"use strict";n.__esModule=!0;var e=function(t){return t&&t.__esModule?t:{default:t}}(r(0));n.default=function(){var t=null,n=[];return{setPrompt:function(n){return(0,e.default)(null==t,"A history supports only one prompt at a time"),t=n,function(){t===n&&(t=null)}},confirmTransitionTo:function(n,r,i,o){if(null!=t){var a="function"==typeof t?t(n,r):t;"string"==typeof a?"function"==typeof i?i(a,o):((0,e.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function(t){var r=!0,e=function(){r&&t.apply(void 0,arguments)};return n.push(e),function(){r=!1,n=n.filter(function(t){return t!==e})}},notifyListeners:function(){for(var t=arguments.length,r=Array(t),e=0;e<t;e++)r[e]=arguments[e];n.forEach(function(t){return t.apply(void 0,r)})}}}},function(t,n,r){"use strict";n.__esModule=!0;n.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),n.addEventListener=function(t,n,r){return t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent("on"+n,r)},n.removeEventListener=function(t,n,r){return t.removeEventListener?t.removeEventListener(n,r,!1):t.detachEvent("on"+n,r)},n.getConfirmation=function(t,n){return n(window.confirm(t))},n.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},n.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},n.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},n.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,n,r){"use strict";r.r(n);var e={};r.r(e),r.d(e,"EPSILON",function(){return d}),r.d(e,"ARRAY_TYPE",function(){return p}),r.d(e,"RANDOM",function(){return m}),r.d(e,"setMatrixArrayType",function(){return M}),r.d(e,"toRadian",function(){return b}),r.d(e,"equals",function(){return g});var i={};r.r(i),r.d(i,"create",function(){return v}),r.d(i,"clone",function(){return w}),r.d(i,"copy",function(){return A}),r.d(i,"identity",function(){return x}),r.d(i,"fromValues",function(){return E}),r.d(i,"set",function(){return O}),r.d(i,"transpose",function(){return S}),r.d(i,"invert",function(){return T}),r.d(i,"adjoint",function(){return k}),r.d(i,"determinant",function(){return P}),r.d(i,"multiply",function(){return F}),r.d(i,"rotate",function(){return q}),r.d(i,"scale",function(){return j}),r.d(i,"fromRotation",function(){return R}),r.d(i,"fromScaling",function(){return L}),r.d(i,"str",function(){return I}),r.d(i,"frob",function(){return C}),r.d(i,"LDU",function(){return z}),r.d(i,"add",function(){return _}),r.d(i,"subtract",function(){return B}),r.d(i,"exactEquals",function(){return N}),r.d(i,"equals",function(){return U}),r.d(i,"multiplyScalar",function(){return D}),r.d(i,"multiplyScalarAndAdd",function(){return H}),r.d(i,"mul",function(){return Y}),r.d(i,"sub",function(){return V});var o={};r.r(o),r.d(o,"create",function(){return W}),r.d(o,"clone",function(){return J}),r.d(o,"copy",function(){return Q}),r.d(o,"identity",function(){return X}),r.d(o,"fromValues",function(){return K}),r.d(o,"set",function(){return Z}),r.d(o,"invert",function(){return G}),r.d(o,"determinant",function(){return $}),r.d(o,"multiply",function(){return tt}),r.d(o,"rotate",function(){return nt}),r.d(o,"scale",function(){return rt}),r.d(o,"translate",function(){return et}),r.d(o,"fromRotation",function(){return it}),r.d(o,"fromScaling",function(){return ot}),r.d(o,"fromTranslation",function(){return at}),r.d(o,"str",function(){return ut}),r.d(o,"frob",function(){return st}),r.d(o,"add",function(){return ct}),r.d(o,"subtract",function(){return ft}),r.d(o,"multiplyScalar",function(){return ht}),r.d(o,"multiplyScalarAndAdd",function(){return lt}),r.d(o,"exactEquals",function(){return dt}),r.d(o,"equals",function(){return pt}),r.d(o,"mul",function(){return mt}),r.d(o,"sub",function(){return Mt});var a={};r.r(a),r.d(a,"create",function(){return yt}),r.d(a,"fromMat4",function(){return bt}),r.d(a,"clone",function(){return gt}),r.d(a,"copy",function(){return vt}),r.d(a,"fromValues",function(){return wt}),r.d(a,"set",function(){return At}),r.d(a,"identity",function(){return xt}),r.d(a,"transpose",function(){return Et}),r.d(a,"invert",function(){return Ot}),r.d(a,"adjoint",function(){return St}),r.d(a,"determinant",function(){return Tt}),r.d(a,"multiply",function(){return kt}),r.d(a,"translate",function(){return Pt}),r.d(a,"rotate",function(){return Ft}),r.d(a,"scale",function(){return qt}),r.d(a,"fromTranslation",function(){return jt}),r.d(a,"fromRotation",function(){return Rt}),r.d(a,"fromScaling",function(){return Lt}),r.d(a,"fromMat2d",function(){return It}),r.d(a,"fromQuat",function(){return Ct}),r.d(a,"normalFromMat4",function(){return zt}),r.d(a,"projection",function(){return _t}),r.d(a,"str",function(){return Bt}),r.d(a,"frob",function(){return Nt}),r.d(a,"add",function(){return Ut}),r.d(a,"subtract",function(){return Dt}),r.d(a,"multiplyScalar",function(){return Ht}),r.d(a,"multiplyScalarAndAdd",function(){return Yt}),r.d(a,"exactEquals",function(){return Vt}),r.d(a,"equals",function(){return Wt}),r.d(a,"mul",function(){return Jt}),r.d(a,"sub",function(){return Qt});var u={};r.r(u),r.d(u,"create",function(){return Xt}),r.d(u,"clone",function(){return Kt}),r.d(u,"copy",function(){return Zt}),r.d(u,"fromValues",function(){return Gt}),r.d(u,"set",function(){return $t}),r.d(u,"identity",function(){return tn}),r.d(u,"transpose",function(){return nn}),r.d(u,"invert",function(){return rn}),r.d(u,"adjoint",function(){return en}),r.d(u,"determinant",function(){return on}),r.d(u,"multiply",function(){return an}),r.d(u,"translate",function(){return un}),r.d(u,"scale",function(){return sn}),r.d(u,"rotate",function(){return cn}),r.d(u,"rotateX",function(){return fn}),r.d(u,"rotateY",function(){return hn}),r.d(u,"rotateZ",function(){return ln}),r.d(u,"fromTranslation",function(){return dn}),r.d(u,"fromScaling",function(){return pn}),r.d(u,"fromRotation",function(){return mn}),r.d(u,"fromXRotation",function(){return Mn}),r.d(u,"fromYRotation",function(){return yn}),r.d(u,"fromZRotation",function(){return bn}),r.d(u,"fromRotationTranslation",function(){return gn}),r.d(u,"fromQuat2",function(){return vn}),r.d(u,"getTranslation",function(){return wn}),r.d(u,"getScaling",function(){return An}),r.d(u,"getRotation",function(){return xn}),r.d(u,"fromRotationTranslationScale",function(){return En}),r.d(u,"fromRotationTranslationScaleOrigin",function(){return On}),r.d(u,"fromQuat",function(){return Sn}),r.d(u,"frustum",function(){return Tn}),r.d(u,"perspective",function(){return kn}),r.d(u,"perspectiveFromFieldOfView",function(){return Pn}),r.d(u,"ortho",function(){return Fn}),r.d(u,"lookAt",function(){return qn}),r.d(u,"targetTo",function(){return jn}),r.d(u,"str",function(){return Rn}),r.d(u,"frob",function(){return Ln}),r.d(u,"add",function(){return In}),r.d(u,"subtract",function(){return Cn}),r.d(u,"multiplyScalar",function(){return zn}),r.d(u,"multiplyScalarAndAdd",function(){return _n}),r.d(u,"exactEquals",function(){return Bn}),r.d(u,"equals",function(){return Nn}),r.d(u,"mul",function(){return Un}),r.d(u,"sub",function(){return Dn});var s={};r.r(s),r.d(s,"create",function(){return Hn}),r.d(s,"clone",function(){return Yn}),r.d(s,"length",function(){return Vn}),r.d(s,"fromValues",function(){return Wn}),r.d(s,"copy",function(){return Jn}),r.d(s,"set",function(){return Qn}),r.d(s,"add",function(){return Xn}),r.d(s,"subtract",function(){return Kn}),r.d(s,"multiply",function(){return Zn}),r.d(s,"divide",function(){return Gn}),r.d(s,"ceil",function(){return $n}),r.d(s,"floor",function(){return tr}),r.d(s,"min",function(){return nr}),r.d(s,"max",function(){return rr}),r.d(s,"round",function(){return er}),r.d(s,"scale",function(){return ir}),r.d(s,"scaleAndAdd",function(){return or}),r.d(s,"distance",function(){return ar}),r.d(s,"squaredDistance",function(){return ur}),r.d(s,"squaredLength",function(){return sr}),r.d(s,"negate",function(){return cr}),r.d(s,"inverse",function(){return fr}),r.d(s,"normalize",function(){return hr}),r.d(s,"dot",function(){return lr}),r.d(s,"cross",function(){return dr}),r.d(s,"lerp",function(){return pr}),r.d(s,"hermite",function(){return mr}),r.d(s,"bezier",function(){return Mr}),r.d(s,"random",function(){return yr}),r.d(s,"transformMat4",function(){return br}),r.d(s,"transformMat3",function(){return gr}),r.d(s,"transformQuat",function(){return vr}),r.d(s,"rotateX",function(){return wr}),r.d(s,"rotateY",function(){return Ar}),r.d(s,"rotateZ",function(){return xr}),r.d(s,"angle",function(){return Er}),r.d(s,"str",function(){return Or}),r.d(s,"exactEquals",function(){return Sr}),r.d(s,"equals",function(){return Tr}),r.d(s,"sub",function(){return kr}),r.d(s,"mul",function(){return Pr}),r.d(s,"div",function(){return Fr}),r.d(s,"dist",function(){return qr}),r.d(s,"sqrDist",function(){return jr}),r.d(s,"len",function(){return Rr}),r.d(s,"sqrLen",function(){return Lr}),r.d(s,"forEach",function(){return Ir});var c={};r.r(c),r.d(c,"create",function(){return Cr}),r.d(c,"clone",function(){return zr}),r.d(c,"fromValues",function(){return _r}),r.d(c,"copy",function(){return Br}),r.d(c,"set",function(){return Nr}),r.d(c,"add",function(){return Ur}),r.d(c,"subtract",function(){return Dr}),r.d(c,"multiply",function(){return Hr}),r.d(c,"divide",function(){return Yr}),r.d(c,"ceil",function(){return Vr}),r.d(c,"floor",function(){return Wr}),r.d(c,"min",function(){return Jr}),r.d(c,"max",function(){return Qr}),r.d(c,"round",function(){return Xr}),r.d(c,"scale",function(){return Kr}),r.d(c,"scaleAndAdd",function(){return Zr}),r.d(c,"distance",function(){return Gr}),r.d(c,"squaredDistance",function(){return $r}),r.d(c,"length",function(){return te}),r.d(c,"squaredLength",function(){return ne}),r.d(c,"negate",function(){return re}),r.d(c,"inverse",function(){return ee}),r.d(c,"normalize",function(){return ie}),r.d(c,"dot",function(){return oe}),r.d(c,"lerp",function(){return ae}),r.d(c,"random",function(){return ue}),r.d(c,"transformMat4",function(){return se}),r.d(c,"transformQuat",function(){return ce}),r.d(c,"str",function(){return fe}),r.d(c,"exactEquals",function(){return he}),r.d(c,"equals",function(){return le}),r.d(c,"sub",function(){return de}),r.d(c,"mul",function(){return pe}),r.d(c,"div",function(){return me}),r.d(c,"dist",function(){return Me}),r.d(c,"sqrDist",function(){return ye}),r.d(c,"len",function(){return be}),r.d(c,"sqrLen",function(){return ge}),r.d(c,"forEach",function(){return ve});var f={};r.r(f),r.d(f,"create",function(){return we}),r.d(f,"identity",function(){return Ae}),r.d(f,"setAxisAngle",function(){return xe}),r.d(f,"getAxisAngle",function(){return Ee}),r.d(f,"multiply",function(){return Oe}),r.d(f,"rotateX",function(){return Se}),r.d(f,"rotateY",function(){return Te}),r.d(f,"rotateZ",function(){return ke}),r.d(f,"calculateW",function(){return Pe}),r.d(f,"slerp",function(){return Fe}),r.d(f,"random",function(){return qe}),r.d(f,"invert",function(){return je}),r.d(f,"conjugate",function(){return Re}),r.d(f,"fromMat3",function(){return Le}),r.d(f,"fromEuler",function(){return Ie}),r.d(f,"str",function(){return Ce}),r.d(f,"clone",function(){return ze}),r.d(f,"fromValues",function(){return _e}),r.d(f,"copy",function(){return Be}),r.d(f,"set",function(){return Ne}),r.d(f,"add",function(){return Ue}),r.d(f,"mul",function(){return De}),r.d(f,"scale",function(){return He}),r.d(f,"dot",function(){return Ye}),r.d(f,"lerp",function(){return Ve}),r.d(f,"length",function(){return We}),r.d(f,"len",function(){return Je}),r.d(f,"squaredLength",function(){return Qe}),r.d(f,"sqrLen",function(){return Xe}),r.d(f,"normalize",function(){return Ke}),r.d(f,"exactEquals",function(){return Ze}),r.d(f,"equals",function(){return Ge}),r.d(f,"rotationTo",function(){return $e}),r.d(f,"sqlerp",function(){return ti}),r.d(f,"setAxes",function(){return ni});var h={};r.r(h),r.d(h,"create",function(){return ri}),r.d(h,"clone",function(){return ei}),r.d(h,"fromValues",function(){return ii}),r.d(h,"fromRotationTranslationValues",function(){return oi}),r.d(h,"fromRotationTranslation",function(){return ai}),r.d(h,"fromTranslation",function(){return ui}),r.d(h,"fromRotation",function(){return si}),r.d(h,"fromMat4",function(){return ci}),r.d(h,"copy",function(){return fi}),r.d(h,"identity",function(){return hi}),r.d(h,"set",function(){return li}),r.d(h,"getReal",function(){return di}),r.d(h,"getDual",function(){return pi}),r.d(h,"setReal",function(){return mi}),r.d(h,"setDual",function(){return Mi}),r.d(h,"getTranslation",function(){return yi}),r.d(h,"translate",function(){return bi}),r.d(h,"rotateX",function(){return gi}),r.d(h,"rotateY",function(){return vi}),r.d(h,"rotateZ",function(){return wi}),r.d(h,"rotateByQuatAppend",function(){return Ai}),r.d(h,"rotateByQuatPrepend",function(){return xi}),r.d(h,"rotateAroundAxis",function(){return Ei}),r.d(h,"add",function(){return Oi}),r.d(h,"multiply",function(){return Si}),r.d(h,"mul",function(){return Ti}),r.d(h,"scale",function(){return ki}),r.d(h,"dot",function(){return Pi}),r.d(h,"lerp",function(){return Fi}),r.d(h,"invert",function(){return qi}),r.d(h,"conjugate",function(){return ji}),r.d(h,"length",function(){return Ri}),r.d(h,"len",function(){return Li}),r.d(h,"squaredLength",function(){return Ii}),r.d(h,"sqrLen",function(){return Ci}),r.d(h,"normalize",function(){return zi}),r.d(h,"str",function(){return _i}),r.d(h,"exactEquals",function(){return Bi}),r.d(h,"equals",function(){return Ni});var l={};r.r(l),r.d(l,"create",function(){return Ui}),r.d(l,"clone",function(){return Di}),r.d(l,"fromValues",function(){return Hi}),r.d(l,"copy",function(){return Yi}),r.d(l,"set",function(){return Vi}),r.d(l,"add",function(){return Wi}),r.d(l,"subtract",function(){return Ji}),r.d(l,"multiply",function(){return Qi}),r.d(l,"divide",function(){return Xi}),r.d(l,"ceil",function(){return Ki}),r.d(l,"floor",function(){return Zi}),r.d(l,"min",function(){return Gi}),r.d(l,"max",function(){return $i}),r.d(l,"round",function(){return to}),r.d(l,"scale",function(){return no}),r.d(l,"scaleAndAdd",function(){return ro}),r.d(l,"distance",function(){return eo}),r.d(l,"squaredDistance",function(){return io}),r.d(l,"length",function(){return oo}),r.d(l,"squaredLength",function(){return ao}),r.d(l,"negate",function(){return uo}),r.d(l,"inverse",function(){return so}),r.d(l,"normalize",function(){return co}),r.d(l,"dot",function(){return fo}),r.d(l,"cross",function(){return ho}),r.d(l,"lerp",function(){return lo}),r.d(l,"random",function(){return po}),r.d(l,"transformMat2",function(){return mo}),r.d(l,"transformMat2d",function(){return Mo}),r.d(l,"transformMat3",function(){return yo}),r.d(l,"transformMat4",function(){return bo}),r.d(l,"rotate",function(){return go}),r.d(l,"angle",function(){return vo}),r.d(l,"str",function(){return wo}),r.d(l,"exactEquals",function(){return Ao}),r.d(l,"equals",function(){return xo}),r.d(l,"len",function(){return Eo}),r.d(l,"sub",function(){return Oo}),r.d(l,"mul",function(){return So}),r.d(l,"div",function(){return To}),r.d(l,"dist",function(){return ko}),r.d(l,"sqrDist",function(){return Po}),r.d(l,"sqrLen",function(){return Fo}),r.d(l,"forEach",function(){return qo});const d=1e-6;let p="undefined"!=typeof Float32Array?Float32Array:Array;const m=Math.random;function M(t){p=t}const y=Math.PI/180;function b(t){return t*y}function g(t,n){return Math.abs(t-n)<=d*Math.max(1,Math.abs(t),Math.abs(n))}function v(){let t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function w(t){let n=new p(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function A(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function x(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function E(t,n,r,e){let i=new p(4);return i[0]=t,i[1]=n,i[2]=r,i[3]=e,i}function O(t,n,r,e,i){return t[0]=n,t[1]=r,t[2]=e,t[3]=i,t}function S(t,n){if(t===n){let r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function T(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=r*o-i*e;return a?(a=1/a,t[0]=o*a,t[1]=-e*a,t[2]=-i*a,t[3]=r*a,t):null}function k(t,n){let r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t}function P(t){return t[0]*t[3]-t[2]*t[1]}function F(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=e*u+o*s,t[1]=i*u+a*s,t[2]=e*c+o*f,t[3]=i*c+a*f,t}function q(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=e*s+o*u,t[1]=i*s+a*u,t[2]=e*-u+o*s,t[3]=i*-u+a*s,t}function j(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=r[0],s=r[1];return t[0]=e*u,t[1]=i*u,t[2]=o*s,t[3]=a*s,t}function R(t,n){let r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=-r,t[3]=e,t}function L(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function I(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function C(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function z(t,n,r,e){return t[2]=e[2]/e[0],r[0]=e[0],r[1]=e[1],r[3]=e[3]-t[2]*r[1],[t,n,r]}function _(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function B(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function N(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function U(t,n){let r=t[0],e=t[1],i=t[2],o=t[3],a=n[0],u=n[1],s=n[2],c=n[3];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(e-u)<=d*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}function D(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function H(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t}const Y=F,V=B;function W(){let t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function J(t){let n=new p(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Q(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function X(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function K(t,n,r,e,i,o){let a=new p(6);return a[0]=t,a[1]=n,a[2]=r,a[3]=e,a[4]=i,a[5]=o,a}function Z(t,n,r,e,i,o,a){return t[0]=n,t[1]=r,t[2]=e,t[3]=i,t[4]=o,t[5]=a,t}function G(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=r*o-e*i;return s?(s=1/s,t[0]=o*s,t[1]=-e*s,t[2]=-i*s,t[3]=r*s,t[4]=(i*u-o*a)*s,t[5]=(e*a-r*u)*s,t):null}function $(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=r[0],f=r[1],h=r[2],l=r[3],d=r[4],p=r[5];return t[0]=e*c+o*f,t[1]=i*c+a*f,t[2]=e*h+o*l,t[3]=i*h+a*l,t[4]=e*d+o*p+u,t[5]=i*d+a*p+s,t}function nt(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=Math.sin(r),f=Math.cos(r);return t[0]=e*f+o*c,t[1]=i*f+a*c,t[2]=e*-c+o*f,t[3]=i*-c+a*f,t[4]=u,t[5]=s,t}function rt(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=r[0],f=r[1];return t[0]=e*c,t[1]=i*c,t[2]=o*f,t[3]=a*f,t[4]=u,t[5]=s,t}function et(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=r[0],f=r[1];return t[0]=e,t[1]=i,t[2]=o,t[3]=a,t[4]=e*c+o*f+u,t[5]=i*c+a*f+s,t}function it(t,n){let r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=-r,t[3]=e,t[4]=0,t[5]=0,t}function ot(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function at(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ct(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t}function ft(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t}function ht(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t}function lt(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t}function dt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function pt(t,n){let r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=n[0],c=n[1],f=n[2],h=n[3],l=n[4],p=n[5];return Math.abs(r-s)<=d*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(e-c)<=d*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-l)<=d*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(u-p)<=d*Math.max(1,Math.abs(u),Math.abs(p))}const mt=tt,Mt=ft;function yt(){let t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function bt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function gt(t){let n=new p(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function vt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function wt(t,n,r,e,i,o,a,u,s){let c=new p(9);return c[0]=t,c[1]=n,c[2]=r,c[3]=e,c[4]=i,c[5]=o,c[6]=a,c[7]=u,c[8]=s,c}function At(t,n,r,e,i,o,a,u,s,c){return t[0]=n,t[1]=r,t[2]=e,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t}function xt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Et(t,n){if(t===n){let r=n[1],e=n[2],i=n[5];t[1]=n[3],t[2]=n[6],t[3]=r,t[5]=n[7],t[6]=e,t[7]=i}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function Ot(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=f*a-u*c,l=-f*o+u*s,d=c*o-a*s,p=r*h+e*l+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-f*e+i*c)*p,t[2]=(u*e-i*a)*p,t[3]=l*p,t[4]=(f*r-i*s)*p,t[5]=(-u*r+i*o)*p,t[6]=d*p,t[7]=(-c*r+e*s)*p,t[8]=(a*r-e*o)*p,t):null}function St(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8];return t[0]=a*f-u*c,t[1]=i*c-e*f,t[2]=e*u-i*a,t[3]=u*s-o*f,t[4]=r*f-i*s,t[5]=i*o-r*u,t[6]=o*c-a*s,t[7]=e*s-r*c,t[8]=r*a-e*o,t}function Tt(t){let n=t[0],r=t[1],e=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return n*(c*o-a*s)+r*(-c*i+a*u)+e*(s*i-o*u)}function kt(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=r[0],d=r[1],p=r[2],m=r[3],M=r[4],y=r[5],b=r[6],g=r[7],v=r[8];return t[0]=l*e+d*a+p*c,t[1]=l*i+d*u+p*f,t[2]=l*o+d*s+p*h,t[3]=m*e+M*a+y*c,t[4]=m*i+M*u+y*f,t[5]=m*o+M*s+y*h,t[6]=b*e+g*a+v*c,t[7]=b*i+g*u+v*f,t[8]=b*o+g*s+v*h,t}function Pt(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=r[0],d=r[1];return t[0]=e,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=l*e+d*a+c,t[7]=l*i+d*u+f,t[8]=l*o+d*s+h,t}function Ft(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=Math.sin(r),d=Math.cos(r);return t[0]=d*e+l*a,t[1]=d*i+l*u,t[2]=d*o+l*s,t[3]=d*a-l*e,t[4]=d*u-l*i,t[5]=d*s-l*o,t[6]=c,t[7]=f,t[8]=h,t}function qt(t,n,r){let e=r[0],i=r[1];return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function jt(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function Rt(t,n){let r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=-r,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Lt(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function It(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function Ct(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=r+r,u=e+e,s=i+i,c=r*a,f=e*a,h=e*u,l=i*a,d=i*u,p=i*s,m=o*a,M=o*u,y=o*s;return t[0]=1-h-p,t[3]=f-y,t[6]=l+M,t[1]=f+y,t[4]=1-c-p,t[7]=d-m,t[2]=l-M,t[5]=d+m,t[8]=1-c-h,t}function zt(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],m=n[13],M=n[14],y=n[15],b=r*u-e*a,g=r*s-i*a,v=r*c-o*a,w=e*s-i*u,A=e*c-o*u,x=i*c-o*s,E=f*m-h*p,O=f*M-l*p,S=f*y-d*p,T=h*M-l*m,k=h*y-d*m,P=l*y-d*M,F=b*P-g*k+v*T+w*S-A*O+x*E;return F?(F=1/F,t[0]=(u*P-s*k+c*T)*F,t[1]=(s*S-a*P-c*O)*F,t[2]=(a*k-u*S+c*E)*F,t[3]=(i*k-e*P-o*T)*F,t[4]=(r*P-i*S+o*O)*F,t[5]=(e*S-r*k-o*E)*F,t[6]=(m*x-M*A+y*w)*F,t[7]=(M*v-p*x-y*g)*F,t[8]=(p*A-m*v+y*b)*F,t):null}function _t(t,n,r){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Bt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Nt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function Ut(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t}function Dt(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t}function Ht(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t}function Yt(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t}function Vt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function Wt(t,n){let r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],h=n[0],l=n[1],p=n[2],m=n[3],M=n[4],y=n[5],b=n[6],g=n[7],v=n[8];return Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(e-l)<=d*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-m)<=d*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-M)<=d*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(u-y)<=d*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(s-b)<=d*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-g)<=d*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-v)<=d*Math.max(1,Math.abs(f),Math.abs(v))}const Jt=kt,Qt=Dt;function Xt(){let t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Kt(t){let n=new p(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function Zt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Gt(t,n,r,e,i,o,a,u,s,c,f,h,l,d,m,M){let y=new p(16);return y[0]=t,y[1]=n,y[2]=r,y[3]=e,y[4]=i,y[5]=o,y[6]=a,y[7]=u,y[8]=s,y[9]=c,y[10]=f,y[11]=h,y[12]=l,y[13]=d,y[14]=m,y[15]=M,y}function $t(t,n,r,e,i,o,a,u,s,c,f,h,l,d,p,m,M){return t[0]=n,t[1]=r,t[2]=e,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=h,t[11]=l,t[12]=d,t[13]=p,t[14]=m,t[15]=M,t}function tn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nn(t,n){if(t===n){let r=n[1],e=n[2],i=n[3],o=n[6],a=n[7],u=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=r,t[6]=n[9],t[7]=n[13],t[8]=e,t[9]=o,t[11]=n[14],t[12]=i,t[13]=a,t[14]=u}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function rn(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],m=n[13],M=n[14],y=n[15],b=r*u-e*a,g=r*s-i*a,v=r*c-o*a,w=e*s-i*u,A=e*c-o*u,x=i*c-o*s,E=f*m-h*p,O=f*M-l*p,S=f*y-d*p,T=h*M-l*m,k=h*y-d*m,P=l*y-d*M,F=b*P-g*k+v*T+w*S-A*O+x*E;return F?(F=1/F,t[0]=(u*P-s*k+c*T)*F,t[1]=(i*k-e*P-o*T)*F,t[2]=(m*x-M*A+y*w)*F,t[3]=(l*A-h*x-d*w)*F,t[4]=(s*S-a*P-c*O)*F,t[5]=(r*P-i*S+o*O)*F,t[6]=(M*v-p*x-y*g)*F,t[7]=(f*x-l*v+d*g)*F,t[8]=(a*k-u*S+c*E)*F,t[9]=(e*S-r*k-o*E)*F,t[10]=(p*A-m*v+y*b)*F,t[11]=(h*v-f*A-d*b)*F,t[12]=(u*O-a*T-s*E)*F,t[13]=(r*T-e*O+i*E)*F,t[14]=(m*g-p*w-M*b)*F,t[15]=(f*w-h*g+l*b)*F,t):null}function en(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],f=n[8],h=n[9],l=n[10],d=n[11],p=n[12],m=n[13],M=n[14],y=n[15];return t[0]=u*(l*y-d*M)-h*(s*y-c*M)+m*(s*d-c*l),t[1]=-(e*(l*y-d*M)-h*(i*y-o*M)+m*(i*d-o*l)),t[2]=e*(s*y-c*M)-u*(i*y-o*M)+m*(i*c-o*s),t[3]=-(e*(s*d-c*l)-u*(i*d-o*l)+h*(i*c-o*s)),t[4]=-(a*(l*y-d*M)-f*(s*y-c*M)+p*(s*d-c*l)),t[5]=r*(l*y-d*M)-f*(i*y-o*M)+p*(i*d-o*l),t[6]=-(r*(s*y-c*M)-a*(i*y-o*M)+p*(i*c-o*s)),t[7]=r*(s*d-c*l)-a*(i*d-o*l)+f*(i*c-o*s),t[8]=a*(h*y-d*m)-f*(u*y-c*m)+p*(u*d-c*h),t[9]=-(r*(h*y-d*m)-f*(e*y-o*m)+p*(e*d-o*h)),t[10]=r*(u*y-c*m)-a*(e*y-o*m)+p*(e*c-o*u),t[11]=-(r*(u*d-c*h)-a*(e*d-o*h)+f*(e*c-o*u)),t[12]=-(a*(h*M-l*m)-f*(u*M-s*m)+p*(u*l-s*h)),t[13]=r*(h*M-l*m)-f*(e*M-i*m)+p*(e*l-i*h),t[14]=-(r*(u*M-s*m)-a*(e*M-i*m)+p*(e*s-i*u)),t[15]=r*(u*l-s*h)-a*(e*l-i*h)+f*(e*s-i*u),t}function on(t){let n=t[0],r=t[1],e=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],h=t[10],l=t[11],d=t[12],p=t[13],m=t[14],M=t[15];return(n*a-r*o)*(h*M-l*m)-(n*u-e*o)*(f*M-l*p)+(n*s-i*o)*(f*m-h*p)+(r*u-e*a)*(c*M-l*d)-(r*s-i*a)*(c*m-h*d)+(e*s-i*u)*(c*p-f*d)}function an(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],d=n[10],p=n[11],m=n[12],M=n[13],y=n[14],b=n[15],g=r[0],v=r[1],w=r[2],A=r[3];return t[0]=g*e+v*u+w*h+A*m,t[1]=g*i+v*s+w*l+A*M,t[2]=g*o+v*c+w*d+A*y,t[3]=g*a+v*f+w*p+A*b,g=r[4],v=r[5],w=r[6],A=r[7],t[4]=g*e+v*u+w*h+A*m,t[5]=g*i+v*s+w*l+A*M,t[6]=g*o+v*c+w*d+A*y,t[7]=g*a+v*f+w*p+A*b,g=r[8],v=r[9],w=r[10],A=r[11],t[8]=g*e+v*u+w*h+A*m,t[9]=g*i+v*s+w*l+A*M,t[10]=g*o+v*c+w*d+A*y,t[11]=g*a+v*f+w*p+A*b,g=r[12],v=r[13],w=r[14],A=r[15],t[12]=g*e+v*u+w*h+A*m,t[13]=g*i+v*s+w*l+A*M,t[14]=g*o+v*c+w*d+A*y,t[15]=g*a+v*f+w*p+A*b,t}function un(t,n,r){let e,i,o,a,u,s,c,f,h,l,d,p,m=r[0],M=r[1],y=r[2];return n===t?(t[12]=n[0]*m+n[4]*M+n[8]*y+n[12],t[13]=n[1]*m+n[5]*M+n[9]*y+n[13],t[14]=n[2]*m+n[6]*M+n[10]*y+n[14],t[15]=n[3]*m+n[7]*M+n[11]*y+n[15]):(e=n[0],i=n[1],o=n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=n[8],l=n[9],d=n[10],p=n[11],t[0]=e,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=h,t[9]=l,t[10]=d,t[11]=p,t[12]=e*m+u*M+h*y+n[12],t[13]=i*m+s*M+l*y+n[13],t[14]=o*m+c*M+d*y+n[14],t[15]=a*m+f*M+p*y+n[15]),t}function sn(t,n,r){let e=r[0],i=r[1],o=r[2];return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function cn(t,n,r,e){let i,o,a,u,s,c,f,h,l,p,m,M,y,b,g,v,w,A,x,E,O,S,T,k,P=e[0],F=e[1],q=e[2],j=Math.sqrt(P*P+F*F+q*q);return j<d?null:(P*=j=1/j,F*=j,q*=j,i=Math.sin(r),a=1-(o=Math.cos(r)),u=n[0],s=n[1],c=n[2],f=n[3],h=n[4],l=n[5],p=n[6],m=n[7],M=n[8],y=n[9],b=n[10],g=n[11],v=P*P*a+o,w=F*P*a+q*i,A=q*P*a-F*i,x=P*F*a-q*i,E=F*F*a+o,O=q*F*a+P*i,S=P*q*a+F*i,T=F*q*a-P*i,k=q*q*a+o,t[0]=u*v+h*w+M*A,t[1]=s*v+l*w+y*A,t[2]=c*v+p*w+b*A,t[3]=f*v+m*w+g*A,t[4]=u*x+h*E+M*O,t[5]=s*x+l*E+y*O,t[6]=c*x+p*E+b*O,t[7]=f*x+m*E+g*O,t[8]=u*S+h*T+M*k,t[9]=s*S+l*T+y*k,t[10]=c*S+p*T+b*k,t[11]=f*S+m*T+g*k,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function fn(t,n,r){let e=Math.sin(r),i=Math.cos(r),o=n[4],a=n[5],u=n[6],s=n[7],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+c*e,t[5]=a*i+f*e,t[6]=u*i+h*e,t[7]=s*i+l*e,t[8]=c*i-o*e,t[9]=f*i-a*e,t[10]=h*i-u*e,t[11]=l*i-s*e,t}function hn(t,n,r){let e=Math.sin(r),i=Math.cos(r),o=n[0],a=n[1],u=n[2],s=n[3],c=n[8],f=n[9],h=n[10],l=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-c*e,t[1]=a*i-f*e,t[2]=u*i-h*e,t[3]=s*i-l*e,t[8]=o*e+c*i,t[9]=a*e+f*i,t[10]=u*e+h*i,t[11]=s*e+l*i,t}function ln(t,n,r){let e=Math.sin(r),i=Math.cos(r),o=n[0],a=n[1],u=n[2],s=n[3],c=n[4],f=n[5],h=n[6],l=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+c*e,t[1]=a*i+f*e,t[2]=u*i+h*e,t[3]=s*i+l*e,t[4]=c*i-o*e,t[5]=f*i-a*e,t[6]=h*i-u*e,t[7]=l*i-s*e,t}function dn(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function pn(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function mn(t,n,r){let e,i,o,a=r[0],u=r[1],s=r[2],c=Math.sqrt(a*a+u*u+s*s);return c<d?null:(a*=c=1/c,u*=c,s*=c,e=Math.sin(n),o=1-(i=Math.cos(n)),t[0]=a*a*o+i,t[1]=u*a*o+s*e,t[2]=s*a*o-u*e,t[3]=0,t[4]=a*u*o-s*e,t[5]=u*u*o+i,t[6]=s*u*o+a*e,t[7]=0,t[8]=a*s*o+u*e,t[9]=u*s*o-a*e,t[10]=s*s*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function Mn(t,n){let r=Math.sin(n),e=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yn(t,n){let r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bn(t,n){let r=Math.sin(n),e=Math.cos(n);return t[0]=e,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gn(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=e+e,s=i+i,c=o+o,f=e*u,h=e*s,l=e*c,d=i*s,p=i*c,m=o*c,M=a*u,y=a*s,b=a*c;return t[0]=1-(d+m),t[1]=h+b,t[2]=l-y,t[3]=0,t[4]=h-b,t[5]=1-(f+m),t[6]=p+M,t[7]=0,t[8]=l+y,t[9]=p-M,t[10]=1-(f+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function vn(t,n){let r=new p(3),e=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=e*e+i*i+o*o+a*a;return h>0?(r[0]=2*(u*a+f*e+s*o-c*i)/h,r[1]=2*(s*a+f*i+c*e-u*o)/h,r[2]=2*(c*a+f*o+u*i-s*e)/h):(r[0]=2*(u*a+f*e+s*o-c*i),r[1]=2*(s*a+f*i+c*e-u*o),r[2]=2*(c*a+f*o+u*i-s*e)),gn(t,n,r),t}function wn(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function An(t,n){let r=n[0],e=n[1],i=n[2],o=n[4],a=n[5],u=n[6],s=n[8],c=n[9],f=n[10];return t[0]=Math.sqrt(r*r+e*e+i*i),t[1]=Math.sqrt(o*o+a*a+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t}function xn(t,n){let r=n[0]+n[5]+n[10],e=0;return r>0?(e=2*Math.sqrt(r+1),t[3]=.25*e,t[0]=(n[6]-n[9])/e,t[1]=(n[8]-n[2])/e,t[2]=(n[1]-n[4])/e):n[0]>n[5]&&n[0]>n[10]?(e=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/e,t[0]=.25*e,t[1]=(n[1]+n[4])/e,t[2]=(n[8]+n[2])/e):n[5]>n[10]?(e=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/e,t[0]=(n[1]+n[4])/e,t[1]=.25*e,t[2]=(n[6]+n[9])/e):(e=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/e,t[0]=(n[8]+n[2])/e,t[1]=(n[6]+n[9])/e,t[2]=.25*e),t}function En(t,n,r,e){let i=n[0],o=n[1],a=n[2],u=n[3],s=i+i,c=o+o,f=a+a,h=i*s,l=i*c,d=i*f,p=o*c,m=o*f,M=a*f,y=u*s,b=u*c,g=u*f,v=e[0],w=e[1],A=e[2];return t[0]=(1-(p+M))*v,t[1]=(l+g)*v,t[2]=(d-b)*v,t[3]=0,t[4]=(l-g)*w,t[5]=(1-(h+M))*w,t[6]=(m+y)*w,t[7]=0,t[8]=(d+b)*A,t[9]=(m-y)*A,t[10]=(1-(h+p))*A,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function On(t,n,r,e,i){let o=n[0],a=n[1],u=n[2],s=n[3],c=o+o,f=a+a,h=u+u,l=o*c,d=o*f,p=o*h,m=a*f,M=a*h,y=u*h,b=s*c,g=s*f,v=s*h,w=e[0],A=e[1],x=e[2],E=i[0],O=i[1],S=i[2],T=(1-(m+y))*w,k=(d+v)*w,P=(p-g)*w,F=(d-v)*A,q=(1-(l+y))*A,j=(M+b)*A,R=(p+g)*x,L=(M-b)*x,I=(1-(l+m))*x;return t[0]=T,t[1]=k,t[2]=P,t[3]=0,t[4]=F,t[5]=q,t[6]=j,t[7]=0,t[8]=R,t[9]=L,t[10]=I,t[11]=0,t[12]=r[0]+E-(T*E+F*O+R*S),t[13]=r[1]+O-(k*E+q*O+L*S),t[14]=r[2]+S-(P*E+j*O+I*S),t[15]=1,t}function Sn(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=r+r,u=e+e,s=i+i,c=r*a,f=e*a,h=e*u,l=i*a,d=i*u,p=i*s,m=o*a,M=o*u,y=o*s;return t[0]=1-h-p,t[1]=f+y,t[2]=l-M,t[3]=0,t[4]=f-y,t[5]=1-c-p,t[6]=d+m,t[7]=0,t[8]=l+M,t[9]=d-m,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Tn(t,n,r,e,i,o,a){let u=1/(r-n),s=1/(i-e),c=1/(o-a);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+n)*u,t[9]=(i+e)*s,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function kn(t,n,r,e,i){let o,a=1/Math.tan(n/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(e-i),t[10]=(i+e)*o,t[14]=2*i*e*o):(t[10]=-1,t[14]=-2*e),t}function Pn(t,n,r,e){let i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),u=Math.tan(n.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*s*.5,t[9]=(i-o)*c*.5,t[10]=e/(r-e),t[11]=-1,t[12]=0,t[13]=0,t[14]=e*r/(r-e),t[15]=0,t}function Fn(t,n,r,e,i,o,a){let u=1/(n-r),s=1/(e-i),c=1/(o-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(n+r)*u,t[13]=(i+e)*s,t[14]=(a+o)*c,t[15]=1,t}function qn(t,n,r,e){let i,o,a,u,s,c,f,h,l,p,m=n[0],M=n[1],y=n[2],b=e[0],g=e[1],v=e[2],w=r[0],A=r[1],x=r[2];return Math.abs(m-w)<d&&Math.abs(M-A)<d&&Math.abs(y-x)<d?tn(t):(f=m-w,h=M-A,l=y-x,i=g*(l*=p=1/Math.sqrt(f*f+h*h+l*l))-v*(h*=p),o=v*(f*=p)-b*l,a=b*h-g*f,(p=Math.sqrt(i*i+o*o+a*a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),u=h*a-l*o,s=l*i-f*a,c=f*o-h*i,(p=Math.sqrt(u*u+s*s+c*c))?(u*=p=1/p,s*=p,c*=p):(u=0,s=0,c=0),t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=l,t[11]=0,t[12]=-(i*m+o*M+a*y),t[13]=-(u*m+s*M+c*y),t[14]=-(f*m+h*M+l*y),t[15]=1,t)}function jn(t,n,r,e){let i=n[0],o=n[1],a=n[2],u=e[0],s=e[1],c=e[2],f=i-r[0],h=o-r[1],l=a-r[2],d=f*f+h*h+l*l;d>0&&(f*=d=1/Math.sqrt(d),h*=d,l*=d);let p=s*l-c*h,m=c*f-u*l,M=u*h-s*f;return(d=p*p+m*m+M*M)>0&&(p*=d=1/Math.sqrt(d),m*=d,M*=d),t[0]=p,t[1]=m,t[2]=M,t[3]=0,t[4]=h*M-l*m,t[5]=l*p-f*M,t[6]=f*m-h*p,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Rn(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ln(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function In(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t[8]=n[8]+r[8],t[9]=n[9]+r[9],t[10]=n[10]+r[10],t[11]=n[11]+r[11],t[12]=n[12]+r[12],t[13]=n[13]+r[13],t[14]=n[14]+r[14],t[15]=n[15]+r[15],t}function Cn(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t[4]=n[4]-r[4],t[5]=n[5]-r[5],t[6]=n[6]-r[6],t[7]=n[7]-r[7],t[8]=n[8]-r[8],t[9]=n[9]-r[9],t[10]=n[10]-r[10],t[11]=n[11]-r[11],t[12]=n[12]-r[12],t[13]=n[13]-r[13],t[14]=n[14]-r[14],t[15]=n[15]-r[15],t}function zn(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*r,t[9]=n[9]*r,t[10]=n[10]*r,t[11]=n[11]*r,t[12]=n[12]*r,t[13]=n[13]*r,t[14]=n[14]*r,t[15]=n[15]*r,t}function _n(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t[4]=n[4]+r[4]*e,t[5]=n[5]+r[5]*e,t[6]=n[6]+r[6]*e,t[7]=n[7]+r[7]*e,t[8]=n[8]+r[8]*e,t[9]=n[9]+r[9]*e,t[10]=n[10]+r[10]*e,t[11]=n[11]+r[11]*e,t[12]=n[12]+r[12]*e,t[13]=n[13]+r[13]*e,t[14]=n[14]+r[14]*e,t[15]=n[15]+r[15]*e,t}function Bn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function Nn(t,n){let r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],h=t[9],l=t[10],p=t[11],m=t[12],M=t[13],y=t[14],b=t[15],g=n[0],v=n[1],w=n[2],A=n[3],x=n[4],E=n[5],O=n[6],S=n[7],T=n[8],k=n[9],P=n[10],F=n[11],q=n[12],j=n[13],R=n[14],L=n[15];return Math.abs(r-g)<=d*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(e-v)<=d*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(i-w)<=d*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-A)<=d*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(a-x)<=d*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-E)<=d*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(s-O)<=d*Math.max(1,Math.abs(s),Math.abs(O))&&Math.abs(c-S)<=d*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-T)<=d*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(h-k)<=d*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(l-P)<=d*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(p-F)<=d*Math.max(1,Math.abs(p),Math.abs(F))&&Math.abs(m-q)<=d*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(M-j)<=d*Math.max(1,Math.abs(M),Math.abs(j))&&Math.abs(y-R)<=d*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(b-L)<=d*Math.max(1,Math.abs(b),Math.abs(L))}const Un=an,Dn=Cn;function Hn(){let t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Yn(t){var n=new p(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function Vn(t){let n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)}function Wn(t,n,r){let e=new p(3);return e[0]=t,e[1]=n,e[2]=r,e}function Jn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function Qn(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t}function Xn(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function Kn(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function Zn(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function Gn(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function $n(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function tr(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function nr(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function rr(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function er(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function ir(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function or(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t}function ar(t,n){let r=n[0]-t[0],e=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(r*r+e*e+i*i)}function ur(t,n){let r=n[0]-t[0],e=n[1]-t[1],i=n[2]-t[2];return r*r+e*e+i*i}function sr(t){let n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e}function cr(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function fr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function hr(t,n){let r=n[0],e=n[1],i=n[2],o=r*r+e*e+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function lr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function dr(t,n,r){let e=n[0],i=n[1],o=n[2],a=r[0],u=r[1],s=r[2];return t[0]=i*s-o*u,t[1]=o*a-e*s,t[2]=e*u-i*a,t}function pr(t,n,r,e){let i=n[0],o=n[1],a=n[2];return t[0]=i+e*(r[0]-i),t[1]=o+e*(r[1]-o),t[2]=a+e*(r[2]-a),t}function mr(t,n,r,e,i,o){let a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return t[0]=n[0]*u+r[0]*s+e[0]*c+i[0]*f,t[1]=n[1]*u+r[1]*s+e[1]*c+i[1]*f,t[2]=n[2]*u+r[2]*s+e[2]*c+i[2]*f,t}function Mr(t,n,r,e,i,o){let a=1-o,u=a*a,s=o*o,c=u*a,f=3*o*u,h=3*s*a,l=s*o;return t[0]=n[0]*c+r[0]*f+e[0]*h+i[0]*l,t[1]=n[1]*c+r[1]*f+e[1]*h+i[1]*l,t[2]=n[2]*c+r[2]*f+e[2]*h+i[2]*l,t}function yr(t,n){n=n||1;let r=2*m()*Math.PI,e=2*m()-1,i=Math.sqrt(1-e*e)*n;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=e*n,t}function br(t,n,r){let e=n[0],i=n[1],o=n[2],a=r[3]*e+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*e+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*e+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*e+r[6]*i+r[10]*o+r[14])/a,t}function gr(t,n,r){let e=n[0],i=n[1],o=n[2];return t[0]=e*r[0]+i*r[3]+o*r[6],t[1]=e*r[1]+i*r[4]+o*r[7],t[2]=e*r[2]+i*r[5]+o*r[8],t}function vr(t,n,r){let e=r[0],i=r[1],o=r[2],a=r[3],u=n[0],s=n[1],c=n[2],f=i*c-o*s,h=o*u-e*c,l=e*s-i*u,d=i*l-o*h,p=o*f-e*l,m=e*h-i*f,M=2*a;return f*=M,h*=M,l*=M,d*=2,p*=2,m*=2,t[0]=u+f+d,t[1]=s+h+p,t[2]=c+l+m,t}function wr(t,n,r,e){let i=[],o=[];return i[0]=n[0]-r[0],i[1]=n[1]-r[1],i[2]=n[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(e)-i[2]*Math.sin(e),o[2]=i[1]*Math.sin(e)+i[2]*Math.cos(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Ar(t,n,r,e){let i=[],o=[];return i[0]=n[0]-r[0],i[1]=n[1]-r[1],i[2]=n[2]-r[2],o[0]=i[2]*Math.sin(e)+i[0]*Math.cos(e),o[1]=i[1],o[2]=i[2]*Math.cos(e)-i[0]*Math.sin(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function xr(t,n,r,e){let i=[],o=[];return i[0]=n[0]-r[0],i[1]=n[1]-r[1],i[2]=n[2]-r[2],o[0]=i[0]*Math.cos(e)-i[1]*Math.sin(e),o[1]=i[0]*Math.sin(e)+i[1]*Math.cos(e),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Er(t,n){let r=Wn(t[0],t[1],t[2]),e=Wn(n[0],n[1],n[2]);hr(r,r),hr(e,e);let i=lr(r,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Or(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Sr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Tr(t,n){let r=t[0],e=t[1],i=t[2],o=n[0],a=n[1],u=n[2];return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(e-a)<=d*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))}const kr=Kn,Pr=Zn,Fr=Gn,qr=ar,jr=ur,Rr=Vn,Lr=sr,Ir=function(){let t=Hn();return function(n,r,e,i,o,a){let u,s;for(r||(r=3),e||(e=0),s=i?Math.min(i*r+e,n.length):n.length,u=e;u<s;u+=r)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2];return n}}();function Cr(){let t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function zr(t){let n=new p(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function _r(t,n,r,e){let i=new p(4);return i[0]=t,i[1]=n,i[2]=r,i[3]=e,i}function Br(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function Nr(t,n,r,e,i){return t[0]=n,t[1]=r,t[2]=e,t[3]=i,t}function Ur(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function Dr(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function Hr(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t[3]=n[3]*r[3],t}function Yr(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t[3]=n[3]/r[3],t}function Vr(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function Wr(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function Jr(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t[3]=Math.min(n[3],r[3]),t}function Qr(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t[3]=Math.max(n[3],r[3]),t}function Xr(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function Kr(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function Zr(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t[3]=n[3]+r[3]*e,t}function Gr(t,n){let r=n[0]-t[0],e=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(r*r+e*e+i*i+o*o)}function $r(t,n){let r=n[0]-t[0],e=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return r*r+e*e+i*i+o*o}function te(t){let n=t[0],r=t[1],e=t[2],i=t[3];return Math.sqrt(n*n+r*r+e*e+i*i)}function ne(t){let n=t[0],r=t[1],e=t[2],i=t[3];return n*n+r*r+e*e+i*i}function re(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function ee(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function ie(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=r*r+e*e+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=e*a,t[2]=i*a,t[3]=o*a),t}function oe(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function ae(t,n,r,e){let i=n[0],o=n[1],a=n[2],u=n[3];return t[0]=i+e*(r[0]-i),t[1]=o+e*(r[1]-o),t[2]=a+e*(r[2]-a),t[3]=u+e*(r[3]-u),t}function ue(t,n){var r,e,i,o,a,u;n=n||1;do{a=(r=2*m()-1)*r+(e=2*m()-1)*e}while(a>=1);do{u=(i=2*m()-1)*i+(o=2*m()-1)*o}while(u>=1);var s=Math.sqrt((1-a)/u);return t[0]=n*r,t[1]=n*e,t[2]=n*i*s,t[3]=n*o*s,t}function se(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3];return t[0]=r[0]*e+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*e+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*e+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*e+r[7]*i+r[11]*o+r[15]*a,t}function ce(t,n,r){let e=n[0],i=n[1],o=n[2],a=r[0],u=r[1],s=r[2],c=r[3],f=c*e+u*o-s*i,h=c*i+s*e-a*o,l=c*o+a*i-u*e,d=-a*e-u*i-s*o;return t[0]=f*c+d*-a+h*-s-l*-u,t[1]=h*c+d*-u+l*-a-f*-s,t[2]=l*c+d*-s+f*-u-h*-a,t[3]=n[3],t}function fe(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function he(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function le(t,n){let r=t[0],e=t[1],i=t[2],o=t[3],a=n[0],u=n[1],s=n[2],c=n[3];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(e-u)<=d*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}const de=Dr,pe=Hr,me=Yr,Me=Gr,ye=$r,be=te,ge=ne,ve=function(){let t=Cr();return function(n,r,e,i,o,a){let u,s;for(r||(r=4),e||(e=0),s=i?Math.min(i*r+e,n.length):n.length,u=e;u<s;u+=r)t[0]=n[u],t[1]=n[u+1],t[2]=n[u+2],t[3]=n[u+3],o(t,t,a),n[u]=t[0],n[u+1]=t[1],n[u+2]=t[2],n[u+3]=t[3];return n}}();function we(){let t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Ae(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function xe(t,n,r){r*=.5;let e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t}function Ee(t,n){let r=2*Math.acos(n[3]),e=Math.sin(r/2);return e>d?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),r}function Oe(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=e*f+a*u+i*c-o*s,t[1]=i*f+a*s+o*u-e*c,t[2]=o*f+a*c+e*s-i*u,t[3]=a*f-e*u-i*s-o*c,t}function Se(t,n,r){r*=.5;let e=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=e*s+a*u,t[1]=i*s+o*u,t[2]=o*s-i*u,t[3]=a*s-e*u,t}function Te(t,n,r){r*=.5;let e=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=e*s-o*u,t[1]=i*s+a*u,t[2]=o*s+e*u,t[3]=a*s-i*u,t}function ke(t,n,r){r*=.5;let e=n[0],i=n[1],o=n[2],a=n[3],u=Math.sin(r),s=Math.cos(r);return t[0]=e*s+i*u,t[1]=i*s-e*u,t[2]=o*s+a*u,t[3]=a*s-o*u,t}function Pe(t,n){let r=n[0],e=n[1],i=n[2];return t[0]=r,t[1]=e,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-i*i)),t}function Fe(t,n,r,e){let i,o,a,u,s,c=n[0],f=n[1],h=n[2],l=n[3],p=r[0],m=r[1],M=r[2],y=r[3];return(o=c*p+f*m+h*M+l*y)<0&&(o=-o,p=-p,m=-m,M=-M,y=-y),1-o>d?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-e)*i)/a,s=Math.sin(e*i)/a):(u=1-e,s=e),t[0]=u*c+s*p,t[1]=u*f+s*m,t[2]=u*h+s*M,t[3]=u*l+s*y,t}function qe(t){let n=m(),r=m(),e=m(),i=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*e),t[3]=o*Math.cos(2*Math.PI*e),t}function je(t,n){let r=n[0],e=n[1],i=n[2],o=n[3],a=r*r+e*e+i*i+o*o,u=a?1/a:0;return t[0]=-r*u,t[1]=-e*u,t[2]=-i*u,t[3]=o*u,t}function Re(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function Le(t,n){let r,e=n[0]+n[4]+n[8];if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);let i=(e+1)%3,o=(e+2)%3;r=Math.sqrt(n[3*e+e]-n[3*i+i]-n[3*o+o]+1),t[e]=.5*r,r=.5/r,t[3]=(n[3*i+o]-n[3*o+i])*r,t[i]=(n[3*i+e]+n[3*e+i])*r,t[o]=(n[3*o+e]+n[3*e+o])*r}return t}function Ie(t,n,r,e){let i=.5*Math.PI/180;n*=i,r*=i,e*=i;let o=Math.sin(n),a=Math.cos(n),u=Math.sin(r),s=Math.cos(r),c=Math.sin(e),f=Math.cos(e);return t[0]=o*s*f-a*u*c,t[1]=a*u*f+o*s*c,t[2]=a*s*c-o*u*f,t[3]=a*s*f+o*u*c,t}function Ce(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const ze=zr,_e=_r,Be=Br,Ne=Nr,Ue=Ur,De=Oe,He=Kr,Ye=oe,Ve=ae,We=te,Je=We,Qe=ne,Xe=Qe,Ke=ie,Ze=he,Ge=le,$e=function(){let t=Hn(),n=Wn(1,0,0),r=Wn(0,1,0);return function(e,i,o){let a=lr(i,o);return a<-.999999?(dr(t,n,i),Rr(t)<1e-6&&dr(t,r,i),hr(t,t),xe(e,t,Math.PI),e):a>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dr(t,i,o),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1+a,Ke(e,e))}}(),ti=function(){let t=we(),n=we();return function(r,e,i,o,a,u){return Fe(t,e,a,u),Fe(n,i,o,u),Fe(r,t,n,2*u*(1-u)),r}}(),ni=function(){let t=yt();return function(n,r,e,i){return t[0]=e[0],t[3]=e[1],t[6]=e[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],Ke(n,Le(n,t))}}();function ri(){let t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ei(t){let n=new p(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n}function ii(t,n,r,e,i,o,a,u){let s=new p(8);return s[0]=t,s[1]=n,s[2]=r,s[3]=e,s[4]=i,s[5]=o,s[6]=a,s[7]=u,s}function oi(t,n,r,e,i,o,a){let u=new p(8);u[0]=t,u[1]=n,u[2]=r,u[3]=e;let s=.5*i,c=.5*o,f=.5*a;return u[4]=s*e+c*r-f*n,u[5]=c*e+f*t-s*r,u[6]=f*e+s*n-c*t,u[7]=-s*t-c*n-f*r,u}function ai(t,n,r){let e=.5*r[0],i=.5*r[1],o=.5*r[2],a=n[0],u=n[1],s=n[2],c=n[3];return t[0]=a,t[1]=u,t[2]=s,t[3]=c,t[4]=e*c+i*s-o*u,t[5]=i*c+o*a-e*s,t[6]=o*c+e*u-i*a,t[7]=-e*a-i*u-o*s,t}function ui(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t}function si(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function ci(t,n){let r=we();xn(r,n);let e=new p(3);return wn(e,n),ai(t,r,e),t}function fi(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}function hi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function li(t,n,r,e,i,o,a,u,s){return t[0]=n,t[1]=r,t[2]=e,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t}const di=Be;function pi(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t}const mi=Be;function Mi(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t}function yi(t,n){let r=n[4],e=n[5],i=n[6],o=n[7],a=-n[0],u=-n[1],s=-n[2],c=n[3];return t[0]=2*(r*c+o*a+e*s-i*u),t[1]=2*(e*c+o*u+i*a-r*s),t[2]=2*(i*c+o*s+r*u-e*a),t}function bi(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=.5*r[0],s=.5*r[1],c=.5*r[2],f=n[4],h=n[5],l=n[6],d=n[7];return t[0]=e,t[1]=i,t[2]=o,t[3]=a,t[4]=a*u+i*c-o*s+f,t[5]=a*s+o*u-e*c+h,t[6]=a*c+e*s-i*u+l,t[7]=-e*u-i*s-o*c+d,t}function gi(t,n,r){let e=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=u*a+f*e+s*o-c*i,l=s*a+f*i+c*e-u*o,d=c*a+f*o+u*i-s*e,p=f*a-u*e-s*i-c*o;return Se(t,n,r),e=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*e+l*o-d*i,t[5]=l*a+p*i+d*e-h*o,t[6]=d*a+p*o+h*i-l*e,t[7]=p*a-h*e-l*i-d*o,t}function vi(t,n,r){let e=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=u*a+f*e+s*o-c*i,l=s*a+f*i+c*e-u*o,d=c*a+f*o+u*i-s*e,p=f*a-u*e-s*i-c*o;return Te(t,n,r),e=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*e+l*o-d*i,t[5]=l*a+p*i+d*e-h*o,t[6]=d*a+p*o+h*i-l*e,t[7]=p*a-h*e-l*i-d*o,t}function wi(t,n,r){let e=-n[0],i=-n[1],o=-n[2],a=n[3],u=n[4],s=n[5],c=n[6],f=n[7],h=u*a+f*e+s*o-c*i,l=s*a+f*i+c*e-u*o,d=c*a+f*o+u*i-s*e,p=f*a-u*e-s*i-c*o;return ke(t,n,r),e=t[0],i=t[1],o=t[2],a=t[3],t[4]=h*a+p*e+l*o-d*i,t[5]=l*a+p*i+d*e-h*o,t[6]=d*a+p*o+h*i-l*e,t[7]=p*a-h*e-l*i-d*o,t}function Ai(t,n,r){let e=r[0],i=r[1],o=r[2],a=r[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=u*a+f*e+s*o-c*i,t[1]=s*a+f*i+c*e-u*o,t[2]=c*a+f*o+u*i-s*e,t[3]=f*a-u*e-s*i-c*o,u=n[4],s=n[5],c=n[6],f=n[7],t[4]=u*a+f*e+s*o-c*i,t[5]=s*a+f*i+c*e-u*o,t[6]=c*a+f*o+u*i-s*e,t[7]=f*a-u*e-s*i-c*o,t}function xi(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=e*f+a*u+i*c-o*s,t[1]=i*f+a*s+o*u-e*c,t[2]=o*f+a*c+e*s-i*u,t[3]=a*f-e*u-i*s-o*c,u=r[4],s=r[5],c=r[6],f=r[7],t[4]=e*f+a*u+i*c-o*s,t[5]=i*f+a*s+o*u-e*c,t[6]=o*f+a*c+e*s-i*u,t[7]=a*f-e*u-i*s-o*c,t}function Ei(t,n,r,e){if(Math.abs(e)<d)return fi(t,n);let i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);e*=.5;let o=Math.sin(e),a=o*r[0]/i,u=o*r[1]/i,s=o*r[2]/i,c=Math.cos(e),f=n[0],h=n[1],l=n[2],p=n[3];t[0]=f*c+p*a+h*s-l*u,t[1]=h*c+p*u+l*a-f*s,t[2]=l*c+p*s+f*u-h*a,t[3]=p*c-f*a-h*u-l*s;let m=n[4],M=n[5],y=n[6],b=n[7];return t[4]=m*c+b*a+M*s-y*u,t[5]=M*c+b*u+y*a-m*s,t[6]=y*c+b*s+m*u-M*a,t[7]=b*c-m*a-M*u-y*s,t}function Oi(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t[4]=n[4]+r[4],t[5]=n[5]+r[5],t[6]=n[6]+r[6],t[7]=n[7]+r[7],t}function Si(t,n,r){let e=n[0],i=n[1],o=n[2],a=n[3],u=r[4],s=r[5],c=r[6],f=r[7],h=n[4],l=n[5],d=n[6],p=n[7],m=r[0],M=r[1],y=r[2],b=r[3];return t[0]=e*b+a*m+i*y-o*M,t[1]=i*b+a*M+o*m-e*y,t[2]=o*b+a*y+e*M-i*m,t[3]=a*b-e*m-i*M-o*y,t[4]=e*f+a*u+i*c-o*s+h*b+p*m+l*y-d*M,t[5]=i*f+a*s+o*u-e*c+l*b+p*M+d*m-h*y,t[6]=o*f+a*c+e*s-i*u+d*b+p*y+h*M-l*m,t[7]=a*f-e*u-i*s-o*c+p*b-h*m-l*M-d*y,t}const Ti=Si;function ki(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t}const Pi=Ye;function Fi(t,n,r,e){let i=1-e;return Pi(n,r)<0&&(e=-e),t[0]=n[0]*i+r[0]*e,t[1]=n[1]*i+r[1]*e,t[2]=n[2]*i+r[2]*e,t[3]=n[3]*i+r[3]*e,t[4]=n[4]*i+r[4]*e,t[5]=n[5]*i+r[5]*e,t[6]=n[6]*i+r[6]*e,t[7]=n[7]*i+r[7]*e,t}function qi(t,n){let r=Ii(n);return t[0]=-n[0]/r,t[1]=-n[1]/r,t[2]=-n[2]/r,t[3]=n[3]/r,t[4]=-n[4]/r,t[5]=-n[5]/r,t[6]=-n[6]/r,t[7]=n[7]/r,t}function ji(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t}const Ri=We,Li=Ri,Ii=Qe,Ci=Ii;function zi(t,n){let r=Ii(n);if(r>0){r=Math.sqrt(r);let e=n[0]/r,i=n[1]/r,o=n[2]/r,a=n[3]/r,u=n[4],s=n[5],c=n[6],f=n[7],h=e*u+i*s+o*c+a*f;t[0]=e,t[1]=i,t[2]=o,t[3]=a,t[4]=(u-e*h)/r,t[5]=(s-i*h)/r,t[6]=(c-o*h)/r,t[7]=(f-a*h)/r}return t}function _i(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Bi(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]}function Ni(t,n){let r=t[0],e=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=n[0],h=n[1],l=n[2],p=n[3],m=n[4],M=n[5],y=n[6],b=n[7];return Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(e-h)<=d*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=d*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(u-M)<=d*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(s-y)<=d*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-b)<=d*Math.max(1,Math.abs(c),Math.abs(b))}function Ui(){let t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function Di(t){let n=new p(2);return n[0]=t[0],n[1]=t[1],n}function Hi(t,n){let r=new p(2);return r[0]=t,r[1]=n,r}function Yi(t,n){return t[0]=n[0],t[1]=n[1],t}function Vi(t,n,r){return t[0]=n,t[1]=r,t}function Wi(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t}function Ji(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function Qi(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t}function Xi(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t}function Ki(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function Zi(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function Gi(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t}function $i(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t}function to(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function no(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t}function ro(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t}function eo(t,n){var r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)}function io(t,n){var r=n[0]-t[0],e=n[1]-t[1];return r*r+e*e}function oo(t){var n=t[0],r=t[1];return Math.sqrt(n*n+r*r)}function ao(t){var n=t[0],r=t[1];return n*n+r*r}function uo(t,n){return t[0]=-n[0],t[1]=-n[1],t}function so(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function co(t,n){var r=n[0],e=n[1],i=r*r+e*e;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i),t}function fo(t,n){return t[0]*n[0]+t[1]*n[1]}function ho(t,n,r){var e=n[0]*r[1]-n[1]*r[0];return t[0]=t[1]=0,t[2]=e,t}function lo(t,n,r,e){var i=n[0],o=n[1];return t[0]=i+e*(r[0]-i),t[1]=o+e*(r[1]-o),t}function po(t,n){n=n||1;var r=2*m()*Math.PI;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t}function mo(t,n,r){var e=n[0],i=n[1];return t[0]=r[0]*e+r[2]*i,t[1]=r[1]*e+r[3]*i,t}function Mo(t,n,r){var e=n[0],i=n[1];return t[0]=r[0]*e+r[2]*i+r[4],t[1]=r[1]*e+r[3]*i+r[5],t}function yo(t,n,r){var e=n[0],i=n[1];return t[0]=r[0]*e+r[3]*i+r[6],t[1]=r[1]*e+r[4]*i+r[7],t}function bo(t,n,r){let e=n[0],i=n[1];return t[0]=r[0]*e+r[4]*i+r[12],t[1]=r[1]*e+r[5]*i+r[13],t}function go(t,n,r,e){let i=n[0]-r[0],o=n[1]-r[1],a=Math.sin(e),u=Math.cos(e);return t[0]=i*u-o*a+r[0],t[1]=i*a+o*u+r[1],t}function vo(t,n){let r=t[0],e=t[1],i=n[0],o=n[1],a=r*r+e*e;a>0&&(a=1/Math.sqrt(a));let u=i*i+o*o;u>0&&(u=1/Math.sqrt(u));let s=(r*i+e*o)*a*u;return s>1?0:s<-1?Math.PI:Math.acos(s)}function wo(t){return"vec2("+t[0]+", "+t[1]+")"}function Ao(t,n){return t[0]===n[0]&&t[1]===n[1]}function xo(t,n){let r=t[0],e=t[1],i=n[0],o=n[1];return Math.abs(r-i)<=d*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(e-o)<=d*Math.max(1,Math.abs(e),Math.abs(o))}const Eo=oo,Oo=Ji,So=Qi,To=Xi,ko=eo,Po=io,Fo=ao,qo=function(){let t=Ui();return function(n,r,e,i,o,a){let u,s;for(r||(r=2),e||(e=0),s=i?Math.min(i*r+e,n.length):n.length,u=e;u<s;u+=r)t[0]=n[u],t[1]=n[u+1],o(t,t,a),n[u]=t[0],n[u+1]=t[1];return n}}();r.d(n,"glMatrix",function(){return e}),r.d(n,"mat2",function(){return i}),r.d(n,"mat2d",function(){return o}),r.d(n,"mat3",function(){return a}),r.d(n,"mat4",function(){return u}),r.d(n,"quat",function(){return f}),r.d(n,"quat2",function(){return h}),r.d(n,"vec2",function(){return l}),r.d(n,"vec3",function(){return s}),r.d(n,"vec4",function(){return c})},function(t,n,r){"use strict";r.r(n);var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame)||function(t){setTimeout(t,0)},o=Date.getTime;function a(t){this.time,this.disableAnimation=!1,this.duration,this.easing,t&&Object.keys(t).forEach(function(n){this[n]=t[n]}.bind(this))}function u(){this.targets=[],this.getPresentations=[],this.getAnimationCounts=[],this.transactions=[],this.ticking=!1,this.animationFrame,this.displayLayers=[],this.displayFunctions=[],this.cleanupFunctions=[],this.invalidateFunctions=[],this.force=[],this.changers=[]}Date.now&&(o=Date.now),"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now&&(o=window.performance.now.bind(window.performance)),u.prototype={createTransaction:function(t,n){var r=new a(t),e=this.transactions.length,i=o()/1e3;return e&&(i=this.transactions[e-1].representedObject.time),Object.defineProperty(r,"time",{get:function(){return i},enumerable:!0,configurable:!1}),this.transactions.push({representedObject:r,automaticallyCommit:n,flushers:[]}),n&&this.startTicking(),r},createTransactionWrapper:function(t,n){for(var r=this.targets.length;r--;)this.invalidateFunctions[r]();var e=new a(t),i=this.transactions.length,u=o()/1e3;i&&(u=this.transactions[i-1].representedObject.time),Object.defineProperty(e,"time",{get:function(){return u},enumerable:!0,configurable:!1});var s={representedObject:e,automaticallyCommit:n,flushers:[]};return this.transactions.push(s),n&&this.startTicking(),s},currentTransaction:function(){var t=this.transactions.length;return t?this.transactions[t-1].representedObject:this.createTransactionWrapper({},!0).representedObject},beginTransaction:function(t){return this.createTransactionWrapper(t,!1).representedObject},commitTransaction:function(){this.clearChangers(),this.clearFlushers(),this.transactions.pop()},clearFlushers:function(){var t=this.currentTransactionWrapper();t.flushers.forEach(function(t){t()}),t.flushers.length=0;for(var n=this.targets.length;n--;)this.invalidateFunctions[n]()},flushTransaction:function(){this.clearChangers(),this.clearFlushers()},currentTransactionWrapper:function(){var t=this.transactions.length;return t?this.transactions[t-1]:this.createTransactionWrapper({},!0)},registerFlusher:function(t){this.currentTransactionWrapper().flushers.push(t)},registerChanger:function(t){this.changers.push(t),this.startTicking()},clearChangers:function(){for(var t=this.changers,n=t.length;n--;)t[n]();t.length=0},disableAnimation:function(t){!1!==t&&(t=!0),this.currentTransaction().disableAnimation=t,this.startTicking()},registerTarget:function(t,n,r,e,i,o,a){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.startTicking();var s=this.targets.indexOf(t);s<0?(this.targets.push(t),this.getPresentations.push(n),this.getAnimationCounts.push(r),this.displayLayers.push(u),this.displayFunctions.push(e),this.cleanupFunctions.push(o),this.invalidateFunctions.push(i),this.force.push(a)):this.force[s]=a},deregisterTarget:function(t){var n=this.targets.indexOf(t);n>-1&&(this.targets.splice(n,1),this.getPresentations.splice(n,1),this.getAnimationCounts.splice(n,1),this.displayLayers.splice(n,1),this.displayFunctions.splice(n,1),this.cleanupFunctions.splice(n,1),this.invalidateFunctions.splice(n,1),this.force.splice(n,1))},startTicking:function(){this.animationFrame||(this.animationFrame=i(this.ticker.bind(this)))},ticker:function(){this.clearChangers(),this.animationFrame=void 0;for(var t=this.targets,n=t.length;n--;){var r=t[n],e=this.displayFunctions[n],i=this.getAnimationCounts[n](),o=this.getPresentations[n];if(i){var a=o();(this.force[n]||this.displayLayers[n]!==a)&&(this.displayLayers[n]=a,e(a)),this.cleanupFunctions[n]()}else{this.invalidateFunctions[n](),e(o()),this.deregisterTarget(r)}this.force[n]=!1}var u=this.transactions.length;u&&(this.transactions[u-1].automaticallyCommit&&this.commitTransaction());this.targets.length&&this.startTicking()}};var s="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return void 0===t?"undefined":e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":e(t)},c=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}();function f(t){return t&&"[object Function]"==={}.toString.call(t)}function h(){}function l(){}function d(t,n,r){this.subtype=t,f(t)&&(this.subtype=new t(r)),this.length=n}function p(t){f(t)?this.sort=t:t&&f(t.sort)&&(this.sort=t.sort),this.debug="HyperSet"}h.prototype={constructor:h,zero:function(){return 0},add:function(t,n){return t+n},subtract:function(t,n){return t-n},interpolate:function(t,n,r){return t+(n-t)*r},input:function(t,n){return n},output:function(t,n){return n},toString:function(){return"HyperNumber"},toJSON:function(){return this.toString()}},l.prototype={constructor:l,zero:function(){return 1},add:function(t,n){return t*n},subtract:function(t,n){return 0===n?0:t/n},interpolate:function(t,n,r){return t+(n-t)*r},toString:function(){return"HyperScale"},toJSON:function(){return this.toString()}},d.prototype={constructor:d,zero:function(){for(var t=[],n=this.length;n--;)t.push(this.subtype.zero());return t},add:function(t,n){for(var r=[],e=0;e<this.length;e++)r.push(this.subtype.add(t[e],n[e]));return r},subtract:function(t,n){for(var r=[],e=0;e<this.length;e++)r.push(this.subtype.subtract(t[e],n[e]));return r},interpolate:function(t,n,r){for(var e=[],i=0;i<this.length;i++)e.push(this.subtype.interpolate(t[i],n[i],r));return e},toString:function(){return"HyperArray"},toJSON:function(){return this.toString()}},p.prototype={constructor:p,zero:function(){return[]},add:function(t,n){if(!Array.isArray(t)&&!Array.isArray(n))return[];if(!Array.isArray(t))return n;if(!Array.isArray(n))return t;var r=[],e=t.length,i=n.length,o=0,a=0;if(f(this.sort))for(;o<e||a<i;)if(o===e)r.push(n[a]),a++;else if(a===i)r.push(t[o]),o++;else{var u=t[o],s=n[a],c=this.sort(u,s);if(0===c)r.push(u),o++,a++;else if(c<0)r.push(u),o++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, add a:"+u+"; b:"+s+"; result:"+c+";");r.push(s),a++}}else for(r=t.slice(0),o=n.length;o--;)t.indexOf(n[o])<0&&r.push(n[o]);return r},subtract:function(t,n){if(!Array.isArray(t)&&!Array.isArray(n))return[];if(!Array.isArray(t))return n;if(!Array.isArray(n))return t;var r=[],e=t.length,i=n.length,o=0,a=0;if(f(this.sort))for(;(o<e||a<i)&&o!==e;)if(a===i)r.push(t[o]),o++;else{var u=t[o],s=n[a],c=this.sort(u,s);if(0===c)o++,a++;else if(c<0)r.push(u),o++;else{if(!(c>0))throw new Error("HyperSet invalid sort function, subtract a:"+u+"; b:"+s+"; result:"+c+";");a++}}else for(r=t.slice(0),o=n.length;o--;){var h=r.indexOf(n[o]);h>-1&&r.splice(h,1)}return r},interpolate:function(t,n,r){return r>=1?n:t},toString:function(){return"HyperSet"},toJSON:function(){return this.toString()}};var m=function(){function t(){}return c(t,[{key:"zero",value:function(){return y(0,0)}},{key:"add",value:function(t,n){return y(t.x+n.x,t.y+n.y)}},{key:"subtract",value:function(t,n){return y(t.x-n.x,t.y-n.y)}},{key:"interpolate",value:function(t,n,r){return y(t.x+(n.x-t.x)*r,t.y+(n.y-t.y)*r)}},{key:"toString",value:function(){return"HyperPoint"}},{key:"toJSON",value:function(){return this.toString()}}]),t}(),M=function(){function t(){}return c(t,[{key:"zero",value:function(){return b(0,0)}},{key:"add",value:function(t,n){return b(t.width+n.width,t.height+n.height)}},{key:"subtract",value:function(t,n){return b(t.width-n.width,t.height-n.height)}},{key:"interpolate",value:function(t,n,r){return b(t.width+(n.width-t.width)*r,t.height+(n.height-t.height)*r)}},{key:"toString",value:function(){return"HyperSize"}},{key:"toJSON",value:function(){return this.toString()}}]),t}();(function(){function t(){}c(t,[{key:"zero",value:function(){return function(t,n,r,e){return{origin:y(t,n),size:b(r,e)}}(0,0,0,0)}},{key:"add",value:function(t,n){return{origin:m.prototype.add(t.origin,n.origin),size:M.prototype.add(t.size,n.size)}}},{key:"subtract",value:function(t,n){return{origin:m.prototype.subtract(t.origin,n.origin),size:M.prototype.subtract(t.size,n.size)}}},{key:"interpolate",value:function(t,n,r){return{origin:m.prototype.interpolate(t.origin,n.origin,r),size:M.prototype.interpolate(t.size,n.size,r)}}},{key:"toString",value:function(){return"HyperRect"}},{key:"toJSON",value:function(){return this.toString()}}])})(),Number.MAX_VALUE;function y(t,n){return{x:t,y:n}}function b(t,n){return{width:t,height:n}}var g=0,v=new h;function w(t){return t&&"[object Function]"==={}.toString.call(t)}function A(t){var n=[];Array.isArray(t)?n=t:t&&Array.isArray(t.chain)&&(n=t.chain),this.chain=n.map(function(t){return k(t)}),Object.defineProperty(this,"finished",{get:function(){return!this.chain.length||this.chain[this.chain.length-1].finished},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){"chain"!==n&&"finished"!==n&&(this[n]=t[n])}.bind(this))}function x(t){var n=[];Array.isArray(t)?n=t:t&&t.group&&(n=t.group),this.group=n.map(function(t){return k(t)}),Object.defineProperty(this,"finished",{get:function(){var t=!0;return this.group.forEach(function(n){n.finished||(t=!1)}),t},enumerable:!1,configurable:!1}),t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){"group"!==n&&"finished"!==n&&(this[n]=t[n])}.bind(this))}function E(){this.property,this.type,this.duration,this.easing,this.speed,this.iterations,this.autoreverse,this.fillMode,this.index=0,this.delay=0,this.blend="relative",this.additive=!0,this.sort,this.finished=!1,this.startTime,this.progress,this.onend,this.remove=!0}function O(t){E.call(this);var n=[];t&&Array.isArray(t.keyframes)&&(n=t.keyframes),this.keyframes=n;var r=this.keyframes.length;t&&Object.keys(t).forEach(function(n){"keyframes"!==n&&(this[n]=t[n])}.bind(this)),Array.isArray(this.offsets)&&this.offsets.length===r?this.offsets.sort(function(t,n){return t-n}):this.offsets=r<2?[]:this.keyframes.map(function(t,n){return n/(r-1)}),this.progress=null}function S(t){E.call(this),this.from,this.to,this.delta,t&&Object.keys(t).forEach(function(n){this[n]=t[n]}.bind(this)),this.progress=null}function T(t){return t&&w(t.add)&&w(t.subtract)&&w(t.zero)&&w(t.interpolate)}function k(t){var n=void 0;if(!t&&0!==t)return t;if(t instanceof E||t instanceof O||t instanceof x||t instanceof A)n=t.copy.call(t);else if(Array.isArray(t))n=new x(t);else if(function(t){return t&&"object"===(void 0===t?"undefined":s(t))}(t))n=T(t)?new S({type:t}):Array.isArray(t.keyframes)?new O(t):Array.isArray(t.group)?new x(t):Array.isArray(t.chain)?new A(t):new S(t);else if(function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t))n=new S({duration:t});else{if(!0!==t)throw new Error("is this an animation:"+JSON.stringify(t));n=new S({})}return n}function P(t){return t&&"[object Function]"==={}.toString.call(t)}function F(t,n,r,e,i){if(t instanceof S||t instanceof O){var o=t.property;if(n&&o&&P(n.typeOfProperty)){var a=n.typeOfProperty.call(n,o);a&&(t.type=a)}var u=q(o,n.keyInput,n),s=r[u],c=e[u]||function(t){if(!t)return null;return t.type?P(t.type)?new t.type:t.type:P(t)?new t:t}(s);t.property&&t.type&&i(t.property,t.type,!0),t instanceof S?((Array.isArray(t.from)||Array.isArray(t.to))&&!t.type&&P(t.sort)&&(t.type=new p(t.sort)),t.type||(t.type=c),(t.from||0===t.from)&&(t.from=j(t.from,u,n,e,t.type)),(t.to||0===t.to)&&(t.to=j(t.to,u,n,e,t.type)),(t.delta||0===t.delta)&&(t.delta=j(t.delta,u,n,e,t.type))):(t.type||(t.type=c),t.keyframes&&(t.keyframes=t.keyframes.map(function(r){return j(r,u,n,e,t.type)})),t.delta&&(t.delta=t.delta.map(function(r){return j(r,u,n,e,t.type)})))}else if(t instanceof x)t.group.forEach(function(t){F(t,n,r,e,i)});else{if(!(t instanceof A))throw new Error("not an animation");t.chain.forEach(function(t){F(t,n,r,e,i)})}}function q(t,n,r){return P(n)?n.call(r,t):t}function j(t,n,r,e,i){if(r&&P(r.input))return r.input.call(r,n,t);var o=t,a=e[n];return i&&P(i.input)?o=i.input.call(i,n,t):a&&P(a.input)&&(o=a.input.call(a,n,t)),o}function R(t){if(t&&(t instanceof S||t instanceof O||t instanceof x||t instanceof A))return!0}A.prototype={constructor:A,copy:function(){return new this.constructor(this)},runAnimation:function(t,n,r){this.sortIndex=g++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=r.time);for(var e=this.chain.length,i=Object.assign({},r),o=this.startTime,a=0;a<e;a++){var u=this.chain[a];i.time=o,u.runAnimation.call(u,t,n,i),o=o===1/0||u.iterations===1/0?1/0:o+u.delay+u.duration*u.iterations}},composite:function(t,n){for(var r=!1,e=this.chain.length,i=0;i<e;i++){var o=this.chain[i];r=o.composite.call(o,t,n)||r}return r},convert:function(t,n){w(t)&&this.chain.forEach(function(r){r.convert.call(r,t,n)})}},A.prototype.description=function(t){var n=Object.assign({},this);return n.chain=this.chain.map(function(n){return n.description(t)}),n},x.prototype={constructor:x,copy:function(){return new this.constructor(this)},runAnimation:function(t,n,r){this.sortIndex=g++,null!==this.startTime&&void 0!==this.startTime||(this.startTime=r.time),this.group.forEach(function(e){e.runAnimation.call(e,t,n,r)})},composite:function(t,n){var r=!1;return this.group.forEach(function(e){r=e.composite.call(e,t,n)||r}),r},convert:function(t,n){w(t)&&this.group.forEach(function(r){r.convert.call(r,t,n)})}},x.prototype.description=function(t){var n=Object.assign({},this);return n.group=this.group.map(function(n){return n.description(t)}),n},E.prototype={copy:function(){return new this.constructor(this)},composite:function(t,n){if(null===this.startTime||void 0===this.startTime)throw new Error("Cannot composite an animation that has not been started.");if(this.startTime+this.delay>n&&"backwards"!==this.fillMode&&"both"!==this.fillMode)return!1;if(this.finished&&"forwards"!==this.fillMode&&"both"!==this.fillMode)return!1;var r=Math.max(0,n-(this.startTime+this.delay)),e=this.speed,i=1,o=1,a=this.duration,u=a*this.iterations;u&&(i=r*e/a,o=r*e/u),o>=1&&(i=1,this.finished=!0);var s=0;if(this.finished||(!0===this.autoreverse&&(s=Math.floor(i)%2),i%=1),s&&(i=1-i),w(this.easing))i=this.easing(i);else if("step-start"===this.easing)i=Math.ceil(i);else if("step-middle"===this.easing)i=Math.round(i);else if("step-end"===this.easing)i=Math.floor(i);else{var c=.5-Math.cos(i*Math.PI)/2;if(this.easing){var f=/(step-start|step-middle|step-end|steps)\((\d+)\)/.exec(this.easing);if(f){var h=f[1],l=f[2];l>0?"step-start"===h?i=Math.ceil(i*l)/l:"step-middle"===h?i=Math.round(i*l)/l:"step-end"!==h&&"steps"!==h||(i=Math.floor(i*l)/l):"linear"!==this.easing&&(i=c)}else"linear"!==this.easing&&(i=c)}else i=c}var d=void 0;if(this instanceof O){var p=this.keyframes.length;if(!p)throw new Error("HyperAction composite need to be able to handle zero keyframes");if(1===p)throw new Error("HyperAction composite need to be able to handle one keyframe");for(var m=p-1;m--&&!(i>=this.offsets[m]););var M=m,y=M+1,b=this.offsets[y]-this.offsets[M];if(0===b)throw new Error("can't divide by zero. check your keyframe offsets.");var g=(i-this.offsets[M])/b;d="absolute"===this.blend?this.type.interpolate(this.keyframes[M],this.keyframes[y],g):this.type.interpolate(this.delta[M],this.delta[y],g)}else d="absolute"===this.blend?this.type.interpolate(this.from,this.to,i):this.type.interpolate(this.delta,this.type.zero(this.to),i);var v=this.property;if(void 0!==v&&null!==v){var A=d,x=t[v];void 0!==x&&null!==x||(x=this.type.zero(this.to)),this.additive&&(A=this.type.add(x,d)),this.sort&&Array.isArray(A)&&A.sort(this.sort),t[v]=A}if(t[v]&&t[v].px&&t[v].px.length&&t[v].px.substring&&"NaN"===t[v].px.substring(t[v].px.length-3))throw new Error("hyperact NaN composite onto:"+JSON.stringify(t)+"; now:"+n+";");var E=i!==this.progress||this.finished;return this.progress=i,E}},O.prototype=Object.create(E.prototype),O.prototype.constructor=O,O.prototype.copy=function(){return new this.constructor(this)},O.prototype.runAnimation=function(t,n,r){if(this.type?w(this.type)&&(this.type=new this.type):this.type=v,!(w(this.type.zero)&&w(this.type.add)&&w(this.type.subtract)&&w(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");if("absolute"!==this.blend&&this.keyframes.length){for(var e=this.keyframes.length-1,i=[],o=0;o<e;o++)i[o]=this.type.subtract(this.keyframes[o],this.keyframes[e]);i[e]=this.type.zero(this.keyframes[e]),this.delta=i}null!==this.duration&&void 0!==this.duration||(this.duration=r.duration),null!==this.easing&&void 0!==this.easing||(this.easing=r.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=r.time),this.sortIndex=g++},O.prototype.convert=function(t,n){if(w(t)&&this.property){["keyframes","delta"].forEach(function(r){var e=this;if(this[r]){var i=this[r].slice(0);this[r]=i.map(function(r){return t.call(n,e.property,r)})}}.bind(this))}},O.prototype.description=function(t){var n=Object.assign({},this);return this.convert.call(n,t.output,t),n},S.prototype=Object.create(E.prototype),S.prototype.constructor=S,S.prototype.runAnimation=function(t,n,r){if(this.type?w(this.type)&&(this.type=new this.type):this.type=v,!(w(this.type.zero)&&w(this.type.add)&&w(this.type.subtract)&&w(this.type.interpolate)))throw new Error("Animation runAnimation invalid type. Must implement zero, add, subtract, and interpolate.");this.from||(this.from=this.type.zero(this.to)),this.to||(this.to=this.type.zero(this.from)),"absolute"!==this.blend&&(this.delta=this.type.subtract(this.from,this.to)),null!==this.duration&&void 0!==this.duration||(this.duration=r.duration),null!==this.easing&&void 0!==this.easing||(this.easing=r.easing),null!==this.speed&&void 0!==this.speed||(this.speed=1),null!==this.iterations&&void 0!==this.iterations||(this.iterations=1),void 0!==this.startTime&&null!==this.startTime||(this.startTime=r.time),this.sortIndex=g++},S.prototype.convert=function(t,n){if(w(t)&&this.property){["from","to","delta"].forEach(function(r){var e=this[r];null!==e&&void 0!==e&&(this[r]=t.call(n,this.property,e))}.bind(this))}},S.prototype.description=function(t){var n=Object.assign({},this);return this.convert.call(n,t.output,t),n};var L=["display","animationForKey","input","output"],I=["addAnimation","animationNamed","needsDisplay","registerAnimatableProperty","removeAllAnimations","removeAnimation"],C=["layer","presentation","model","previous","animations","animationNames","animationCount"],z=new u,_=(z.beginTransaction.bind(z),z.commitTransaction.bind(z),z.currentTransaction.bind(z));z.flushTransaction.bind(z),z.disableAnimation.bind(z);function B(){var t=function(t){for(var n=t.iterations,r=t.radiusA,e=t.radiusB,i=t.a,o=t.b,a=t.d,u=t.thetaThreshold,s=t.divisions,c=t.index,f=t.leadingEdge,h=t.trailingEdge,l=t.ribbon,d=2*Math.PI,p=Math.min(r,e),m=d*c/s,M=m+d/s-m,y=Math.round(d/u),b=Math.round(y/s),g=M/b,v=[],w=[],A=[],x=b,E=0;E<x;E++)for(var O=m+E*g,S=0;S<=1;S++){var T=O/d,k=S*l,P=h;S%2&&(P=f);var F=0,q=0,j=0,R=0,L=0,I=0,C=n;do{var z=C*C*P,_=z+C*O,B=z+C*k,N=Math.sin(o*_),U=Math.sin(i*_+a),D=Math.sin(o*B),H=N*Math.sin(i*B+a)/C,Y=U/C,V=N*D/C;R+=H,L+=Y,I+=V,F+=r*H,q+=e*Y,j+=p*V}while(--C);v.push(F),v.push(q),v.push(j),w.push(R),w.push(L),w.push(I),A.push(0),A.push(T)}return{positionArray:v,normalArray:w,coordArray:A}};return self.addEventListener("message",function(n){var r=t(n.data);self.postMessage(r)},!1),t}var N=r(2),U=r.n(N),D=r(9),H=D.vec3,Y=D.mat3,V=D.mat4,W=2*Math.PI,J=U()(),Q=!1,X=4,K=25,Z=50,G=K,$=1,tt=20,nt=.75,rt=5,et=1,it=3,ot=1,at=W/1e3/10,ut=.0025,st=ut,ct=1e-4,ft=!1,ht=!1,lt=.25*W,dt=.001,pt=!1,mt=!1,Mt=_().time,yt={symmetry:0,leadingEdge:0,trailingEdge:0,a:1,b:2,d:0,ribbon:0,radiusA:0,radiusB:0,progress:0,light:[-1,-1,-1],ambient:[.5,.5,.5],directional:[1,1,1],rotation:[0,0,Math.PI/2],animations:[],time:Mt};if(J.location.state){var bt=Object.assign({},J.location.state);Object.keys(yt).forEach(function(t){void 0===bt[t]?bt[t]=yt[t]:Array.isArray(bt[t])&&(bt[t]=bt[t].slice(0))}),bt.animations.forEach(function(t){var n=t.to.length;t.type=new d(new h,n),t.easing=Vt,t.startTime=t.startTime+yt.time-Mt}),yt=bt}window.onpopstate=function(t){yt=t.state};var gt=!0,vt=void 0,wt=0,At=!1,xt=[],Et=(performance.now(),[]);X||(Et={positionArray:[],normalArray:[],coordArray:[]});for(var Ot=B(),St=new Blob(["("+B.toString()+")()"],{type:"application/javascript"}),Tt=(URL.createObjectURL(St),function(t){var n=new Worker(window.URL.createObjectURL(St));n.addEventListener("message",function(n){Ht(t,n.data)},!1),xt.push(n)}),kt=0;kt<X;kt++)Tt(kt);var Pt=document.createElement("canvas");document.body.appendChild(Pt);var Ft=Pt.getContext("webgl")||Pt.getContext("experimental-webgl");if(!Ft)throw new Error("no web gl");var qt=Object.assign(Nt(),{progress:[yt.progress,0,0],light:yt.light,ambient:[.5,.5,.5],directional:yt.directional,rotation:[0,0,Math.PI/2]}),jt={display:function(t){!function(t){Ft.bindBuffer(Ft.ARRAY_BUFFER,It),Ft.bufferSubData(Ft.ARRAY_BUFFER,0,new Float32Array(t.positionArray)),Ft.bindBuffer(Ft.ARRAY_BUFFER,Ct),Ft.bufferSubData(Ft.ARRAY_BUFFER,0,new Float32Array(t.normalArray)),Ft.bindBuffer(Ft.ARRAY_BUFFER,zt),Ft.bufferSubData(Ft.ARRAY_BUFFER,0,new Float32Array(t.coordArray))}(t),function(t){Ft.viewport(0,0,Ft.viewportWidth,Ft.viewportHeight),Ft.clear(Ft.COLOR_BUFFER_BIT|Ft.DEPTH_BUFFER_BIT),function(){var t=Rt.presentation.progress;Ft.uniform3fv(Lt.progress,t)}(),function(){var t=Rt.presentation,n=t.light,r=t.ambient,e=t.directional,i=H.create();H.normalize(i,n,i),H.scale(i,i,-1),Ft.uniform3f(Lt.ambientColor,r[0],r[1],r[2]),Ft.uniform3fv(Lt.lightingDirection,i),Ft.uniform3f(Lt.directionalColor,e[0],e[1],e[2])}();var n=Y.create(),r=V.create();V.perspective(r,50,Ft.viewportWidth/Ft.viewportHeight,.1,100);var e=V.create();V.translate(e,e,H.fromValues(0,0,-10)),function(t){var n=Rt.presentation.rotation;V.rotate(t,t,n[0],H.fromValues(1,0,0)),V.rotate(t,t,n[1],H.fromValues(0,1,0)),V.rotate(t,t,n[2],H.fromValues(0,0,1))}(e),Ft.bindBuffer(Ft.ARRAY_BUFFER,It),Ft.vertexAttribPointer(Lt.vertexPosition,It.itemSize,Ft.FLOAT,!1,0,0),Ft.bindBuffer(Ft.ARRAY_BUFFER,zt),Ft.vertexAttribPointer(Lt.textureCoord,zt.itemSize,Ft.FLOAT,!1,0,0),Ft.bindBuffer(Ft.ARRAY_BUFFER,Ct),Ft.vertexAttribPointer(Lt.vertexNormal,Ct.itemSize,Ft.FLOAT,!1,0,0),Ft.uniformMatrix3fv(Lt.normalMatrix,!1,n),Ft.uniformMatrix4fv(Lt.perspectiveMatrix,!1,r),Ft.uniformMatrix4fv(Lt.modelMatrix,!1,e),Q?Ft.drawArrays(Ft.LINES,0,It.numItems):Ft.drawArrays(Ft.TRIANGLE_STRIP,0,It.numItems)}()},animationForKey:function(t,n,r){if("positionArray"===t||"normalArray"===t){var e={type:new d(new h,n.length),duration:2.5,easing:Vt};return r&&r.length||(e.from=n.map(function(){return 0})),e}if("progress"===t||"light"===t||"directional"===t){var i={type:new d(new h,3),duration:2.5,easing:Vt};return r&&r.length||(i.from=n.map(function(){return 0})),i}}},Rt={};!function(t,n,r,e){if(t){if(t.registerAnimatableProperty||t.addAnimation)throw new Error("Already hyperactive");n?P(n)&&(n={display:n}):n=t,r||(r=t)}else n?P(n)&&(n={display:n}):n={},r||(r=n);var i=[],o=[],a={},u={},s={},c=!1,f={},l={},d=null,p=null,m=null,M=null,y=[],b={},g=null;function v(t){z.registerFlusher(W);var r=z.currentTransaction();X();var e=Object.keys(t);g||($(),g={},z.registerChanger(V),M=K()),r.disableAnimation||Object.assign(g,t),m=null,e.forEach(function(r){var e=t[r],i=q(r,n.keyInput,n);U(i);var o=j(e,i,n,u);f[i]=o,l[i]=e})}function w(t){var r=Object.keys(t),e=z.currentTransaction(),i=X();r.forEach(function(t){var r=q(t,n.keyInput,n),o=K()[t],a=Z()[t];if(o!==a){var c=function(t,n,r,e,i,o,a,u){var s=void 0,c=void 0;if(P(i.animationForKey)&&(c=i.animationForKey.call(i,t,n,r,e)),null===c)return null;o||(o={type:a}),o&&!R(o)&&(s=Object.assign({},o)),s&&!R(c)?s=Object.assign(s,c):(c||0===c)&&(s=c);var f=k(c);return f||!(f=k(o))||(f.duration||0===f.duration||u.duration&&(f.duration=u.duration),f.duration)?(f&&(f instanceof S||f instanceof O)&&(null!==f.property&&void 0!==f.property||(f.property=t),f instanceof S&&(null!==f.from&&void 0!==f.from||("absolute"===f.blend?f.from=e:f.from=r),null!==f.to&&void 0!==f.to||(f.to=n)),null!==f.easing&&void 0!==f.easing||(f.easing=u.easing),null!==f.duration&&void 0!==f.duration||(f.duration=u.duration),f.duration||(f.duration=0)),f):null}(t,o,a,i[t],n,s[r],u[r],e);c?G(c):$()}})}function E(t,n,r){if(t instanceof x)t.group.forEach(function(t){E(t,-1,r)});else if(t instanceof A)t.chain.forEach(function(t){E(t,-1,r)});else if(!(t instanceof S||t instanceof O))throw new Error("not an animation");t.finished&&(function(t){return t.finished&&("forwards"===t.fillMode||"both"===t.fillMode)}(t)||function(t,n){if(n>-1){i.splice(n,1);var r=o[n];o.splice(n,1),delete a[r]}}(0,n),P(t.onend)&&r.push(t))}function _(){for(var t=i.length,n=[];t--;)E(i[t],t,n);n.forEach(function(t){t.onend.call(t,!0),t.onend=null})}function B(t){var n=i.indexOf(t);if(n>-1){i.splice(n,1);var r=o[n];o.splice(n,1),delete a[r],P(t.onend)&&t.onend.call(t,!1)}}function N(e){return(r!==t||I.indexOf(e)<0&&C.indexOf(e)<0)&&(r!==n||L.indexOf(e)<0)}function U(t,n){D(t,n)}function D(t,e,i){var o=q(t,n.keyInput,n);if(N(t)){var a=!1,c=y.indexOf(o);-1===c&&(a=!0);var h=r[t];a&&y.push(o);var d=Object.getOwnPropertyDescriptor(r,t);if(null===e?(delete u[o],delete s[o],y.splice(c,1)):i||T(e)?(u[o]=e,a&&(s[o]={type:e})):(s[o]=e,e&&(u[o]=e.type)),void 0!==h&&null!==h){var p=j(h,o,n,u);f[o]=p,l[o]=h}d&&!0!==d.configurable||Object.defineProperty(r,t,{get:function(){return function(t){var r=q(t,n.keyOutput,n);return null===b?(console.log("activeBacking === null doesn't happen"),K()[r]):b[r]}(t)},set:function(n){!function(t,n){var r={};r[n]=t,v(r)}(n,t)},enumerable:!0,configurable:!0})}}function H(){return i.length}function Y(){return Object.keys(r).filter(N).reduce(function(t,n){return t[n]=r[n],t},{})}function V(){w(g),g=null}function W(){p=null,d=null}function J(){p=null}function Q(){var t=z.currentTransaction().time,r=Object.assign({},f),e=!0;return i.length&&(e=function(t,n,r,e){if(!n||!n.length)return!1;e&&n.sort(function(t,n){var r=(t.index||0)-(n.index||0);return r||(r=t.startTime-n.startTime),r||(r=t.sortIndex-n.sortIndex),r});var i=!1;return n.forEach(function(n){i=n.composite(t,r)||i;var e=n.property;if(e&&t[e]&&t[e].px&&t[e].px.length&&t[e].px.substring&&"NaN"===t[e].px.substring(t[e].px.length-3))throw new Error("hyperact NaN composite sourceLayer:"+JSON.stringify(t)+";")}),i}(r,i,t,c)),c=!1,!e&&d||(y.forEach(function(t){var e=q(t,n.keyOutput,n),i=r[t];i&&i.length&&i.substring&&i.substring(i.length-3),r[t]=function(t,n,r,e,i){if(r&&P(r.output))return r.output.call(r,n,t);var o=t,a=e[n];return i&&P(i.output)?o=i.output.call(i,n,t):a&&P(a.output)&&(o=a.output.call(a,n,t)),o}(i,e,n,u),r[t]&&r[t].length&&r[t].substring&&r[t].substring(r[t].length-3)}),Object.freeze(r),d=r),p=null,d}function X(){if(null!==p&&null!==d)return p;var t=Q(),r=Y();return y.forEach(function(e){var i=t[e],o=q(e,n.keyInput,n);Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!1})}),Object.freeze(r),p=r}function K(){if(null!==m)return m;var t=Y();return y.forEach(function(r){var e=l[r],i=q(r,n.keyInput,n);Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!1})}),Object.freeze(t),m=t}function Z(){return null!==M?M:K()}function G(t,e){var f=z.currentTransaction();X();var h=k(t);if(!(h instanceof S||h instanceof O||h instanceof x||h instanceof A))throw new Error("Not a valid animation:"+JSON.stringify(h));if(F(h,n,s,u,D),i.length||$(),i.push(h),null!==e&&void 0!==e){var l=a[e];l&&B(l),a[e]=h}void 0===e||null===e||!1===e?o.push(null):o.push(e),c=!0,h.runAnimation(r,e,f)}function $(){if(!g){var t=P(n.display)?function(t){b=Q(),n.display.call(n,t),b=l}:function(){};z.registerTarget(r,Q,H,t,J,_,!0,f)}}function tt(t){var n=e?e[t]:void 0;return n&&T(n)?{type:n}:n}Object.keys(r).filter(N).forEach(function(t){var e=r[t],i=q(t,n.keyInput,n);U(i,tt(t)||{type:new h}),l[i]=e}),e&&Object.keys(e).filter(N).forEach(function(t){U(q(t,n.keyInput,n),tt(t))}),b=K(),b=l,t&&(t.registerAnimatableProperty=U,t.needsDisplay=function(){J(),$()},t.addAnimation=G,t.removeAnimation=function(t){var n=a[t];n&&B(n)},t.removeAllAnimations=function(){i.length=0,o.length=0,a={},i.forEach(function(t){P(t.onend)&&t.onend.call(t,!1)})},t.animationNamed=function(t){var r=a[t];return r?r.description.call(r,n):null},Object.defineProperty(t,"layer",{get:function(){return r},set:function(t){t&&v(t)},enumerable:!0,configurable:!1}),Object.defineProperty(t,"animationCount",{get:H,enumerable:!0,configurable:!1}),Object.defineProperty(t,"animations",{get:function(){return i.map(function(t){return t.description.call(t,n)})},enumerable:!0,configurable:!1}),Object.defineProperty(t,"animationNames",{get:function(){return Object.keys(a)},enumerable:!0,configurable:!1}),Object.defineProperty(t,"presentation",{get:X,enumerable:!0,configurable:!1}),Object.defineProperty(t,"model",{get:K,enumerable:!0,configurable:!1}),Object.defineProperty(t,"previous",{get:Z,enumerable:!0,configurable:!1}))}(Rt,jt,qt),yt.animations.forEach(function(t){Rt.addAnimation(t)});var Lt=function(){var t=_t(Ft,"shader-fs"),n=_t(Ft,"shader-vs"),r=Ft.createProgram();Ft.attachShader(r,n),Ft.attachShader(r,t),Ft.linkProgram(r),Ft.getProgramParameter(r,Ft.LINK_STATUS)||console.log("Could not initialise shaders");return Ft.useProgram(r),r.vertexPosition=Ft.getAttribLocation(r,"vertexPosition"),Ft.enableVertexAttribArray(r.vertexPosition),r.textureCoord=Ft.getAttribLocation(r,"textureCoord"),Ft.enableVertexAttribArray(r.textureCoord),r.vertexNormal=Ft.getAttribLocation(r,"vertexNormal"),Ft.enableVertexAttribArray(r.vertexNormal),r.perspectiveMatrix=Ft.getUniformLocation(r,"perspectiveMatrix"),r.modelMatrix=Ft.getUniformLocation(r,"modelMatrix"),r.normalMatrix=Ft.getUniformLocation(r,"normalMatrix"),r.ambientColor=Ft.getUniformLocation(r,"ambientColor"),r.lightingDirection=Ft.getUniformLocation(r,"lightingDirection"),r.directionalColor=Ft.getUniformLocation(r,"directionalColor"),r.progress=Ft.getUniformLocation(r,"progress"),r}(),It=Bt(3,qt.positionArray.slice(0)),Ct=Bt(3,qt.normalArray.slice(0)),zt=Bt(2,qt.coordArray.slice(0));function _t(t,n){var r=document.getElementById(n);if(!r)return null;for(var e="",i=r.firstChild;i;)3==i.nodeType&&(e+=i.textContent),i=i.nextSibling;var o=void 0;if("x-shader/x-fragment"==r.type)o=t.createShader(t.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=r.type)return null;o=t.createShader(t.VERTEX_SHADER)}return t.shaderSource(o,e),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS)?o:(console.log(t.getShaderInfoLog(o)),null)}function Bt(t,n){var r=Ft.createBuffer();return Ft.bindBuffer(Ft.ARRAY_BUFFER,r),Ft.bufferData(Ft.ARRAY_BUFFER,new Float32Array(n),Ft.DYNAMIC_DRAW),r.itemSize=t,r.numItems=n.length/t,r}function Nt(){for(var t={},n=[],r=[],e=[],i=Math.max(1,X),o=0;o<i;o++){var a=Ot({iterations:G,radiusA:yt.radiusA,radiusB:yt.radiusB,a:yt.a,b:yt.b,d:yt.d,thetaThreshold:at,divisions:i,index:o,leadingEdge:yt.leadingEdge,trailingEdge:yt.trailingEdge,ribbon:yt.ribbon});n=n.concat(a.positionArray),r=r.concat(a.normalArray),e=e.concat(a.coordArray)}return t.positionArray=n.slice(0),t.normalArray=r.slice(0),t.coordArray=e.slice(0),t.progress=[0,0,0],t}function Ut(){G=Math.max(K,K+Math.floor(Z*Math.random())*(Math.round(Math.random())?1:-1)),st=Math.max(ut,ut+(K-G));var t,n,r,e,i,o=void 0,a=void 0,u=[2*Math.random()*1-1,2*Math.random()*1-1,-1];qt.light=u;var s=[1*Math.random(),1*Math.random(),1*Math.random()];qt.directional=s;var c=Math.random();qt.progress=[c,0,0];var f=Math.ceil(Math.random()*it),h=f+Math.ceil(Math.random()*it);o=ft?Math.random()*W:f/h*W,ht&&Math.round(Math.random())&&(o=lt+f/h*W*dt),Math.round(Math.random())&&(o+=Math.random()*ct),t=o,pt&&!gt||(a=o),r=(n=et+Math.ceil(Math.random()*rt))+1,e=Math.floor(255*Math.random())*W,i=st*W/n;var l=[];l.forEach(function(t){t.type=null,t.easing=null,t.onend=null,t.startTime=t.startTime-Mt}),yt={symmetry:o,leadingEdge:t,trailingEdge:a,a:n,b:r,d:e,ribbon:i,radiusA:ot,radiusB:ot,progress:c,light:u,directional:s,animations:l,time:Mt},J.replace({state:yt})}function Dt(){if(wt)At=!0;else{At=!1,performance.now(),Et=X?[]:{positionArray:[],normalArray:[],coordArray:[]},gt&&Ut();for(var t=0;t<X;t++)wt++,xt[t].postMessage({iterations:G,radiusA:yt.radiusA,radiusB:yt.radiusB,a:yt.a,b:yt.b,d:yt.d,thetaThreshold:at,divisions:X,index:t,leadingEdge:yt.leadingEdge,trailingEdge:yt.trailingEdge,ribbon:yt.ribbon});X||Ht(0,Nt())}}function Ht(t,n){if(X?Et[t]=n:Et=n,X&&wt--,!X||!wt){!function(){qt.positionArray,qt.normalArray,qt.coordArray;if(X){for(var t=[],n=[],r=[],e=0;e<X;e++){var i=Et[e];t=t.concat(i.positionArray),n=n.concat(i.normalArray),r=r.concat(i.coordArray)}qt.positionArray=t.slice(0),qt.normalArray=n.slice(0),qt.coordArray=r.slice(0)}else qt.positionArray=Et.positionArray.slice(0),qt.normalArray=Et.normalArray.slice(0),qt.coordArray=Et.coordArray.slice(0)}();var r=performance.now();r,vt&&vt.clearTimeout&&vt.clearTimeout(),vt&&vt.cancelTimeout&&vt.cancelTimeout(),vt=null;var e=Math.random()*$*1e3;gt?vt=setTimeout(Dt,e):At&&Dt()}}function Yt(t){var n=window.innerWidth,r=window.innerHeight;Pt.width=n,Pt.height=r,Ft.viewportWidth=n,Ft.viewportHeight=r,yt=Object.assign({},yt,{radiusA:ot,radiusB:ot}),J.replace({state:yt}),jt.display(Rt.presentation)}function Vt(t){var n=Math.sqrt(1-nt*nt);return t=1-Math.cos(t*Math.PI/2),1-(t=1/n*Math.exp(-nt*tt*t)*Math.sin(n*tt*t+Math.atan(n/nt)))}Ft.enable(Ft.BLEND),Ft.blendEquation(Ft.FUNC_ADD),Ft.blendFunc(Ft.SRC_COLOR,Ft.ONE),Ut(),Yt(),Dt(),document.addEventListener("mousedown",function(t){gt=!gt&&mt,Ut(),Dt()}),document.addEventListener("mouseup",function(t){pt&&(trailingEdge=leadingEdge,Dt())}),window.addEventListener("resize",Yt),window.addEventListener("keydown",function(t){}),window.addEventListener("keypress",function(t){if(t.keyCode<20&&t.keyCode>15)return;gt=!gt&&mt,Ut(),Dt()})}]);